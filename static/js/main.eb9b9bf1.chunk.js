(this.webpackJsonpjaerp=this.webpackJsonpjaerp||[]).push([[0],{211:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(21),r=n.n(s),c=n(19),o=n(39),l=n(26),d={EDIT_REPORTS:"/edit-reports",PREVIEW_LiST_PAGE:"/preview",EVENTS_LIST_PAGE:"/"},u={SET_EVENTS:"SET_EVENTS",ADD_EVENT:"ADD_EVENT"},j=function(e){return{type:u.SET_EVENTS,payload:{events:e}}},p=function(e){return{type:u.ADD_EVENT,payload:{event:e}}},b=n(17),x=n(43),h=n.n(x),m=n(2),O=h()((function(e){return{title:{fontSize:"18px",fontWeight:400},redText:{color:"#FF0000",fontSize:"12px"},conditions:{marginRight:"10px",fontSize:"12px"},select:{fontSize:"12px"}}})),g=function(){var e=O();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:e.title,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(m.jsx)("span",{className:e.conditions,children:"\u4f5c\u6210\u6761\u4ef6 "}),Object(m.jsx)("span",{className:e.select,children:" (\u4f5c\u6210\u3059\u308b\u30af\u30e9\u30b9\u3084\u65e5\u306b\u3061\u3092\u9078\u629e) "}),Object(m.jsx)("span",{className:e.redText,children:" \u203b\u7279\u5b9a\u306e\u7d44\u3092\u9078\u629e\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u5712\u5168\u4f53\u306e\u5712\u5168\u4f53\u306e\u6295\u7a3f\u5199\u771f\u304c\u691c\u7d22\u3055\u308c\u307e\u3059"})]})},f=Object(a.memo)(g),E=n(257),v=n(241),S=h()((function(e){return{select:{width:116,height:23},selectTitle:{fontSize:12,marginLeft:10,marginRight:20},selectInput:{"& .MuiOutlinedInput-root":{height:"23px"},"& .MuiOutlinedInput-input":{padding:"5px"},width:"116px"}}})),T=function(e){var t=e.title,n=e.value,i=e.setValue,s=e.options,r=S(),c=Object(a.useCallback)((function(e){i(e.target.value)}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.a,{select:!0,className:r.selectInput,variant:"outlined",value:n,onChange:c,children:null===s||void 0===s?void 0:s.map((function(e){return Object(m.jsx)(v.a,{value:e,children:e},e)}))}),Object(m.jsx)("span",{className:r.selectTitle,children:t})]})},y=Object(a.memo)(T),A="SHARE",C="EMERGENCY",w=n.p+"static/media/img1.47682d7b.png",R=n.p+"static/media/img2.0bc9a818.png",N=n.p+"static/media/img3.46d3e063.png",L=n.p+"static/media/img4.43d997c7.png",D=n.p+"static/media/img5.73381e7b.png",I={creators:[{label:"\u6a4b\u672c\u51db",value:"\u6a4b\u672c\u51db"},{label:"\u6625\u91ce\u30b5\u30af\u30e9",value:"\u6625\u91ce\u30b5\u30af\u30e9"},{label:"\u30ab\u30cc\u30fc\u512a\u5b50",value:"\u30ab\u30cc\u30fc\u512a\u5b50"}],destination:{name:"\u5171\u6709\u5148",items:[{text:"\u5185\u90e8\u3067\u5171\u6709\u3059\u308b",type:A},{text:"\u4fdd\u8b77\u8005\u3068\u5171\u6709\u3059\u308b",type:A},{text:"\u7dca\u6025\u9023\u7d61\u5148\uff08\u5185\u90e8\uff09",type:C},{text:"\u7dca\u6025\u9023\u7d61\u5148\uff08\u4fdd\u8b77\u8005\uff09",type:C}]},sharedPageChildren:{title:"\u5b50\u4f9b",classes:[{class:"\u3072\u3088\u3053 (0)",kids:["\u4f50\u85e4","\u9234\u6728","\u9ad8\u6a4b","\u7530\u4e2d\t"]},{class:"\u3042\u3072\u308b (1)",kids:["\u4f0a\u85e4","\u5c71\u672c","\u4e2d\u6751","\u5c0f\u6797"]},{class:"\u3072\u3070\u308a (2)",kids:["\u52a0\u85e4","\u5409\u7530","\u5c71\u7530","\u4f50\u3005\u6728"]}]},sharedPageClass:{title:"\u30af\u30e9\u30b9",tags:["\u3072\u3088\u3053 (0)","\u3042\u3072\u308b (1)","\u3072\u3070\u308a (2)"]},sharedPage:[{title:"\u5834\u6240",tags:["\u4fdd\u80b2\u5ba4","\u904a\u622f\u5ba4","\u7d66\u98df\u5ba4","\u4e8b\u52d9\u5ba4","\u30c8\u30a4\u30ec","\u5eca\u4e0b","\u968e\u6bb5","\u5712\u5ead","\u5712\u5916"]},{title:"3 \u3064\u306e\u8996\u70b9",tags:["\u5065\u5eb7","\u4eba\u9593\u30fb\u8a00\u8449","\u74b0\u5883\u30fb\u8868\u73fe"]},{title:"5 \u9818\u57df",tags:["\u990a\u8b77","\u5065\u5eb7","\u4eba\u9593","\u74b0\u5883","\u8a00\u8449","\u8868\u73fe"]},{title:"10 \u306e\u59ff",tags:["\u5065\u5eb7","\u81ea\u7acb\u5fc3","\u5354\u540c\u6027","\u898f\u7bc4","\u793e\u4f1a","\u601d\u8003\u529b","\u81ea\u7136","\u6570\u30fb\u6587\u5b57","\u8a00\u8449","\u8868\u73fe"]}],eventsList:[{id:1,img:w,title:"\u6a4b\u672c\u51db",tagList:["2018","\u3044\u304f\u3064\u304b\u306e\u30c6\u30ad\u30b9\u30c8","\u6587\u7ae0"],description:"\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2018",month:"January"},{id:2,img:R,title:"",tagList:["2017","\u4e00\u6708","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2017",month:"January"},{id:3,img:N,title:"",tagList:["2020","\u56db\u6708","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2020",month:"April"},{id:4,img:L,title:"",tagList:["\u4e09\u6708","2019","\u6587\u7ae0","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2019",month:"March"},{id:5,img:D,title:"",tagList:["\u4e00\u6708","2019","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2019",month:"January"}]},_=n(260),k=n(242),B=n(243),F=n(244),Q=h()((function(e){return{dialog:{"& .MuiDialog-paperWidthSm":{width:599,height:189},"& .MuiDialogTitle-root":{marginTop:27,textAlign:"center"},"& .MuiDialogActions-root":{marginTop:15,justifyContent:"center"}},btn:{width:"130px",height:"30px"}}})),P=function(e){var t=e.open,n=e.setOpen,a=Q(),i=function(){n(!1)};return Object(m.jsxs)(_.a,{className:a.dialog,open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(k.a,{id:"alert-dialog-title",children:"\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3059\u304b?"}),Object(m.jsxs)(B.a,{children:[Object(m.jsx)(F.a,{className:a.btn,onClick:i,variant:"contained",color:"primary",children:"\u306f\u3044"}),Object(m.jsx)(F.a,{className:a.btn,onClick:i,color:"primary",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})},M=Object(a.memo)(P),V=h()((function(e){return{event:{marginTop:62,marginLeft:67,display:"flex",position:"relative"},image:{maxWidth:87,maxHeight:87},imgMain:{width:"auto",height:"auto",maxWidth:"100px",maxHeight:"100px",display:"block"},imgDescriptionBlock:{marginLeft:"37px"},imgTitle:{fontSize:14},imgDescr:{fontSize:12,marginTop:20,width:"70vw"},checkbox:{width:"60px",position:"absolute",top:27,right:125,display:"flex",justifyContent:"space-between"},line:{width:"93vw",border:"1px solid #E2E2E2",marginLeft:"60px",marginTop:"22px"},delete:{cursor:"pointer"},tagList:{display:"flex"},tag:{height:"20px",marginRight:10,color:"#00AE00",border:"1px solid #00AE00",borderRadius:"24px",padding:"4px 10px"}}})),z=function(e){var t=e.item,n=e.disable,i=e.handleChange,s=e.selectedCheckbox,r=V(),c=Object(a.useState)(!1),o=Object(b.a)(c,2),l=o[0],d=o[1],u=Object(a.useCallback)((function(e){d(!0)}),[]),j=function(e){for(var t=!1,n=0;n<s.length;n++)if(s[n].id===e){t=!0;break}return t};return Object(a.useEffect)((function(){}),[s,n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M,{open:l,setOpen:d}),Object(m.jsxs)("div",{className:r.event,children:[Object(m.jsx)("div",{className:r.image,children:Object(m.jsx)("img",{className:r.imgMain,src:t.img,alt:""})}),Object(m.jsxs)("div",{className:r.imgDescriptionBlock,children:[Object(m.jsx)("div",{className:r.tagList,children:t.tagList.map((function(e){return Object(m.jsx)("div",{className:r.tag,children:e})}))}),Object(m.jsx)("p",{className:r.imgDescr,children:t.description})]}),Object(m.jsxs)("div",{className:r.checkbox,children:[Object(m.jsx)("input",{onChange:function(){return i(t)},selected:j(t.id),type:"checkbox",disabled:!j(t.id)&&n}),Object(m.jsx)("img",{onClick:u,className:r.delete,src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAATAA8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD94f2htR/aY+Inxl+Lfwr8K/Gb9trxlpvwo8cxm7j+Bfwx+HugaN4dbxTpKeINC0KTxF4a+IvgzxLrlrp2iamthAfEXnPcSWUt88AuHEzfzjxJV4pzLO84ynCZ3x1jaWUY9c6yDKstw9HDPF0ViMPh3icLmeBxWIjSoVVTj9Zu5ODqOPM+Y/1f8JsJ4OcJ+HvAfG+d+Hn0cOHsZxzw1JUJ+JnGfFeaZhm6yTHSyrM8zhlOccJcQ5PltbF5lg5Yqqso5I0oYmGGjV9lH2a9K/Yy1z9ojSvjr4Y+BXjX40/tYaFDD4N8X/EeHwn+0B8Lvhvc/wDCTaNBMuhSFPGV74z8Z+N1Sy17WbXUbKBLtrFH0ySy229vMyN6nBFfiWjn+FyDHZ5xfQisFjczjg+IspyyX1qhGSw7tjZ47G4+1PEV4VYRU3TTpOn7sZNP476Q+W+E2O8Ms68TOHPDrwMzOpU4hyDhGpnvhXxtxdS/sbMalOWZwUuH8Pw7w9w25YnK8urYTEVJUI4mUcZDE3q1aalH7N/ZU/5On/4KFf8AZVvhL/6qiwr7bhH/AJKzxH/7G+Uf+qimfzz44f8AJkfoof8AZEcef+tziRvin/lJt8J/+zQ/iJ/6svQ6MX/ydHJ/+yOzP/1aYYMk/wCUNOOv+z98I/8ArHZoXPjt+xn+zf8AEv4j6n4/8XfD25ufFviSw0yTX9W0bxz8RfCQ1efToX0qzur+w8I+LdD0y4vYtOs7SzN69kbuaC3hWaaTy1xef8EcMZpmdXMcblsp4zFU6TxFajj8ywftpUoujCdSng8Zh6UpqlCEOdw53GMVKTsjHwx+kL4vcHcIYPhbIeK6NHIsnxWNhleBzDhrhLPfqFLF1I47EUMLis+yHM8bSw88XiK+IWGjiFQp1a1SVOnDnlfp/wBm79k/4A/BfxXrvjn4deA30jxbcaJD4cOvap4t8ceLr+DRLy7a+u9PsX8ZeJfECadFdXVjaS3DaeltLOIVjlkaIsjdfDPCHDuR4vEY/LMvdHGSoRwzxFXGY/GVI0Jz9pOnTeNxWIVJTnTg5OmouXKk21oeL4weOfil4iZHlnDXFvE8cfkNLMambrK8FkXDeQ4WrmOHoLDUMViY8PZPlUsXOhQxNeFFYqVaFL2kpwhGdpL/2Q==",alt:""})]})]}),Object(m.jsx)("div",{className:r.line})]})},H=Object(a.memo)(z),J=function(e){var t=e.eventsList,n=e.monthSelect,a=e.yearSelect,i=e.handleChange,s=e.selectedCheckbox,r=e.disable;return Object(m.jsx)(m.Fragment,{children:t.sort((function(e,t){return e-t})).filter((function(e){return n?e.month.toLowerCase().includes(n.toLowerCase()):e})).filter((function(e){return a?e.date.includes(a):e})).map((function(e){return Object(m.jsx)(H,{item:e,disable:r,handleChange:i,selectedCheckbox:s})}))})},G=Object(a.memo)(J),W=[2017,2018,2019,2020],K=n(35),U=n(258),X=n(163),Y=n(165),Z=n(245),q=Object(Z.a)((function(e){return{root:{"& .MuiOutlinedInput-input":{padding:"4px",paddingLeft:"5px",fontSize:"16px",width:"156px"}}}})),$=function(e){var t=e.disable,n=e.format,a=e.value,i=e.onChange,s=q();return Object(m.jsx)(K.a,{utils:X.a,locale:Y.a,children:Object(m.jsx)(U.a,{disabled:t,autoOk:!0,disableToolbar:!0,className:s.root,variant:"inline",inputVariant:"outlined",value:a,format:n,onChange:i})})},ee={SET_SELECTED:"SET_SELECTED",EDIT_EVENT:"EDIT_EVENT"},te=function(e){return{type:ee.SET_SELECTED,payload:{selects:e}}},ne=n(60);function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return[n,a,i].join(t)}var ie=h()((function(e){return{select:{width:116,height:23},selectTitle:{fontSize:12,marginLeft:10,marginRight:20},selectInput:{"& .MuiOutlinedInput-root":{height:"23px"},"& .MuiOutlinedInput-input":{padding:"5px"},width:"116px"}}})),se=function(e){var t=e.disable,n=e.title,i=e.value,s=e.setValue,r=ie(),c=Object(a.useCallback)((function(e){s(e.target.value)}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(E.a,{disabled:t,select:!0,className:r.selectInput,variant:"outlined",value:i,onChange:c,children:[Object(m.jsx)(v.a,{value:"January",children:"\u4e00\u6708"}),Object(m.jsx)(v.a,{value:"February",children:"\u4e8c\u6708"}),Object(m.jsx)(v.a,{value:"March",children:"\u4e09\u6708"}),Object(m.jsx)(v.a,{value:"April",children:"\u56db\u6708"}),Object(m.jsx)(v.a,{value:"May",children:"\u4e94\u6708"}),Object(m.jsx)(v.a,{value:"June",children:"\u516d\u6708"}),Object(m.jsx)(v.a,{value:"July",children:"\u4e03\u6708"}),Object(m.jsx)(v.a,{value:"August",children:"\u516b\u6708"}),Object(m.jsx)(v.a,{value:"September",children:"\u4e5d\u6708"}),Object(m.jsx)(v.a,{value:"Octover",children:"\u5341\u6708"}),Object(m.jsx)(v.a,{value:"November",children:"\u5341\u4e00\u6708"}),Object(m.jsx)(v.a,{value:"December",children:"\u5341\u4e8c\u6708"})]}),Object(m.jsx)("span",{className:r.selectTitle,children:n})]})},re=Object(a.memo)(se),ce=h()((function(e){return{underHeaderBlock:{marginLeft:30,marginRight:60},selects:{marginTop:20,"& .MuiOutlinedInput-root":{height:"23px",width:"116px"}},fourReports:{color:"#FF0000",fontSize:"12px",position:"absolute",top:20,left:18},flex:{display:"flex",justifyContent:"space-between"},deleteBtn:{width:"130px",height:"30px",background:"#FF0000",color:"white",border:"1px solid #FF0000",borderRadius:"5px",fontSize:"12px"},editReportBtn:{width:"146",height:"30px"},reportBlock:{position:"relative",marginTop:"25px"},selectTitle:{fontSize:12,marginLeft:10,marginRight:20}}})),oe=function(e){var t=e.selectedEvents,n=e.setSelectedEvents,i=e.eventsList,s=(e.setEventsListData,ce()),r=Object(a.useState)(""),c=Object(b.a)(r,2),o=c[0],l=c[1],u=Object(a.useState)(""),j=Object(b.a)(u,2),p=j[0],x=j[1],h=Object(a.useState)(""),O=Object(b.a)(h,2),g=O[0],E=O[1],v=Object(a.useState)(null),S=Object(b.a)(v,2),T=(S[0],S[1],Object(a.useState)(!1)),A=Object(b.a)(T,2),C=A[0],w=A[1],R=Object(a.useState)(!0),N=Object(b.a)(R,2),L=N[0],D=N[1],I=Object(a.useState)(!0),_=Object(b.a)(I,2),k=_[0],B=_[1];return Object(a.useEffect)((function(){B(!p||!o)}),[p,o]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:s.underHeaderBlock,children:[Object(m.jsx)(f,{}),Object(m.jsxs)("div",{className:s.flex,children:[Object(m.jsxs)("div",{className:s.selects,children:[Object(m.jsx)(y,{title:"\u7d44"}),Object(m.jsx)(y,{title:"\u5e74",options:W,value:p,setValue:x}),Object(m.jsx)(re,{title:"\u6708",setValue:l,value:o}),Object(m.jsx)($,{disable:k,format:"dd",value:g||(o&&p?"".concat(p,"/").concat(o):null),onChange:E}),Object(m.jsx)("span",{className:s.selectTitle,children:"\u65e5"})]}),Object(m.jsx)("div",{className:s.reportBlock,children:Object(m.jsxs)("div",{className:s.btns,children:[Object(m.jsx)(F.a,{component:ne.b,to:d.EDIT_REPORTS,className:s.editReportBtn,disabled:L,variant:"contained",color:"primary",children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8\u3092\u7de8\u96c6"}),L?Object(m.jsx)("p",{className:s.fourReports,children:"\u203b\u4e00\u5ea6\u306b\u9078\u3079\u308b\u30ec\u30dd\u30fc\u30c8\u306f4\u70b9\u307e\u3067\u3067\u3059\u3002"}):null]})})]})]}),Object(m.jsx)(G,{eventsList:i,monthSelect:o,yearSelect:p,handleChange:function(e){for(var a,i=!1,s=0;s<t.length;s++)if(t[s].id===e.id){i=!0,a=s;break}i?null===t||void 0===t||t.splice(a,1):null===t||void 0===t||t.push(e),t.length>0&&t.length<4?(w(!1),D(!1)):w(!0),n(t)},selectedCheckbox:t,disable:C,setDisable:w})]})},le=Object(a.memo)(oe),de={setEventsListData:j,setSelectedEvents:te},ue=Object(o.b)((function(e){var t,n;return{eventsList:null===(t=e.eventsList.get("events"))||void 0===t?void 0:t.toJS(),selectedEvents:null===(n=e.selectedEvents.get("selects"))||void 0===n?void 0:n.toJS()}}),de)((function(e){return Object(m.jsx)(le,Object(c.a)({},e))})),je=n(11),pe=function(e){return e||"number"===typeof e?void 0:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u7a7a\u306b\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093!"},be=function(e){return(null===e||void 0===e?void 0:e.length)>200?"(200\u6587\u5b57\u307e\u3067\u5165\u529b\u53ef\u80fd)":void 0},xe=["#CC4338","#E37067","#538DD5","#95B3D7","#DA9694","#C4D79B","#B1A0C7","#92CDDC","#FBE5D6"],he=n(57),me=["value","validators","onChange","onValueChange","showError","className"],Oe=Object(Z.a)((function(e){return{root:{padding:"10px","& p":{padding:"2px",fontSize:"0.75em",position:"absolute",top:0,lineHeight:"15px",backgroundColor:"white"}}}})),ge=function(e){var t=e.value,n=e.validators,a=(e.onChange,e.onValueChange),s=e.showError,r=e.className,o=Object(he.a)(e,me),l=Oe(),d=i.a.useState(!1),u=Object(b.a)(d,2),j=u[0],p=u[1],x=(n||[]).map((function(e){return e(t)})).find((function(e){return null!=e}));i.a.useEffect((function(){s&&p(!0)}),[s]);return Object(m.jsx)(E.a,Object(c.a)({className:l.root+" "+r,value:t,error:j&&!!x,onChange:function(e){!function(e){p(!0),a&&a(e)}(e.target.value)},helperText:j&&x?x:""},o))},fe=Object(Z.a)((function(e){var t;return{root:Object(je.a)({display:"flex",margin:"10px"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),imgContainer:{maxWidth:100,maxHeight:100,display:"flex",justifyContent:"center"},img:{margin:"20px 10px 0",width:"auto",height:"auto",maxWidth:"100px",maxHeight:"100px",display:"block"},text:(t={},Object(je.a)(t,e.breakpoints.down("sm"),{fontSize:"10px"}),Object(je.a)(t,"padding","10px"),Object(je.a)(t,"width","45vw"),Object(je.a)(t,e.breakpoints.down("sm"),{width:"80vw"}),t),title:{margin:0}}})),Ee=function(e){var t=e.data,n=e.showError,a=e.editSelectedEvents,i=fe();return Object(m.jsxs)("div",{className:i.root,children:[Object(m.jsx)("div",{className:i.imgContainer,children:Object(m.jsx)("img",{className:i.img,width:"auto",height:"100",alt:"img",src:t.img})}),Object(m.jsx)("div",{children:Object(m.jsx)(ge,{multiline:!0,minRows:"4",variant:"outlined",className:i.text,value:null===t||void 0===t?void 0:t.description,onValueChange:function(e){a(t.id,e)},showError:n,validators:[pe,be]})})]})},ve=Object(Z.a)((function(e){return{input:{display:"none","&:checked+label":{"& span":{transform:"scale(1.25) translate(-2%, -2%)",border:"1px solid black"}}},label:{display:"inline-block",width:"25px",height:"25px",cursor:"pointer",marginRight:"15px","&:hover":{"& span":{transform:"scale(1.25) translate(-2%, -2%)"}},"& span":{display:"block",width:"100%",height:"100%",borderRadius:"50%",transition:"transform .2s ease-in-out"}}}})),Se=function(e){var t=e.color,n=e.selectedColor,a=e.setColor,i=ve();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{className:i.input,onChange:function(){return a(t)},checked:t===n,type:"radio",name:"color",id:t}),Object(m.jsx)("label",{className:i.label,htmlFor:t,children:Object(m.jsx)("span",{style:{backgroundColor:t}})})]})},Te=Object(Z.a)((function(e){var t;return{root:{padding:"10px"},optionText:{margin:0,fontSize:"12px"},title:Object(je.a)({fontSize:"18px"},e.breakpoints.down("sm"),{fontSize:"12px"}),titleWrapper:{display:"flex",alignItems:"center",marginBottom:"10px"},input:Object(je.a)({"& .MuiOutlinedInput-input":{padding:"5px"},height:"100%",marginLeft:"7px"},e.breakpoints.down("sm"),{width:"150px"}),selectInput:{"& .MuiOutlinedInput-input":{padding:"5px"},width:"165px",marginLeft:"50px"},content:Object(je.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),commentTitle:{marginTop:0},commentContent:{paddingTop:"25px"},commentText:Object(je.a)({width:"45vw"},e.breakpoints.down("sm"),{width:"80vw"}),header:(t={display:"flex"},Object(je.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(je.a)(t,"justifyContent","space-between"),t),headerButton:Object(je.a)({display:"flex",alignItems:"flex-start",marginTop:"70px"},e.breakpoints.down("sm"),{marginTop:"20px",width:"100%",justifyContent:"center"}),button:Object(je.a)({marginRight:"80px",padding:"5px 15px","&:hover":{backgroundColor:"#1db51d"}},e.breakpoints.down("sm"),{marginRight:"20px",fontSize:8,width:"60vw"}),list:Object(je.a)({display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"5px 0"},e.breakpoints.down("sm"),{alignItems:"center"})}})),ye=function(e){var t=e.timeFilter,n=e.selectedEvents,s=e.title,r=e.creators,c=e.selectCreator,o=e.color,u=e.description,j=e.setTimeFilter,p=e.setEditReportsCreators,x=e.setEditReportsData,h=e.setEditReportsTitle,O=e.setEditReportsColor,g=e.setEditReportsDescription,f=e.setSelectCreator,E=e.editSelectedEvents,S=Te(),T=i.a.useState(!1),y=Object(b.a)(T,2),A=y[0],C=y[1],w=Object(a.useState)(!0),R=Object(b.a)(w,2),N=R[0],L=R[1],D=Object(l.f)();Object(a.useEffect)((function(){s&&u&&c&&u.length<=200&&n.every((function(e){return e.description.length>0&&e.description.length<=200}))?L(!1):L(!0)}),[s,u,c,n]),Object(a.useEffect)((function(){x(I.reportPage),p(I.creators)}),[]);return Object(m.jsxs)("div",{className:S.root,children:[Object(m.jsxs)("div",{className:S.header,children:[Object(m.jsxs)("div",{className:S.headerOptions,children:[Object(m.jsx)("p",{children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(m.jsxs)("div",{className:S.titleWrapper,children:[Object(m.jsx)("p",{className:S.title,children:"\u30bf\u30a4\u30c8\u30eb:"}),Object(m.jsx)(ge,{variant:"outlined",className:S.input,onValueChange:h,value:s,showError:A,validators:[pe]})]}),Object(m.jsxs)("div",{className:S.titleWrapper,children:[Object(m.jsx)("p",{className:S.optionText,children:"\u30ec\u30dd\u30fc\u30c8\u8868\u793a\u65e5\uff1a"}),Object(m.jsx)($,{format:"yyyy/MM/dd",value:t.day,onChange:j})]}),Object(m.jsxs)("div",{className:S.titleWrapper,children:[Object(m.jsx)("p",{className:S.optionText,children:"\u4f5c\u6210\uff1a"}),Object(m.jsx)(ge,{select:!0,className:S.selectInput,variant:"outlined",value:c,onValueChange:function(e){f(e)},showError:A,validators:[pe],children:r.map((function(e){return Object(m.jsx)(v.a,{value:e.value,children:e.label},e.value)}))})]}),Object(m.jsx)("p",{children:"\u30ec\u30dd\u30fc\u30c8\u306e\u80cc\u666f\u8272\u3092\u9078\u629e\uff1a"}),xe.map((function(e){return Object(m.jsx)(Se,{color:e,selectedColor:o,setColor:O},e)}))]}),Object(m.jsx)("div",{className:S.headerButton,children:Object(m.jsx)(F.a,{disabled:N,className:S.button,variant:"contained",color:"primary",onClick:function(){s&&u?(C(!1),D.push(d.PREVIEW_LiST_PAGE)):C(!0)},children:"\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u78ba\u8a8d"})})]}),Object(m.jsxs)("div",{className:S.content,children:[Object(m.jsx)("div",{className:S.list,children:n&&n.map((function(e,t){return Object(m.jsx)(Ee,{data:e,showError:A,editSelectedEvents:E},e.id+"_"+t)}))}),Object(m.jsxs)("div",{className:S.commentContent,children:[Object(m.jsx)("p",{className:S.commentTitle,children:"\u5148\u751f\u306e\u30b3\u30e1\u30f3\u30c8"}),Object(m.jsx)(ge,{className:S.commentText,multiline:!0,minRows:"4",showError:A,variant:"outlined",value:u,onValueChange:g,validators:[pe,be]})]})]})]})},Ae=Object(a.memo)(ye),Ce={SET_TIME_FILTER:"SET_TIME_FILTER"},we=function(e){return{type:Ce.SET_TIME_FILTER,payload:{timeFilter:e}}},Re={SET_REPORTS:"SET_REPORTS",SET_COLOR:"SET_COLOR",SET_TITLE:"SET_TITLE",SET_DESCRIPTION:"SET_DESCRIPTION",SET_CREATORS:"SET_CREATORS",SELECT_CREATOR:"SELECT_CREATOR"},Ne={setEditReportsData:function(e){return{type:Re.SET_REPORTS,payload:{reports:e}}},setEditReportsTitle:function(e){return{type:Re.SET_TITLE,payload:{title:e}}},setEditReportsColor:function(e){return{type:Re.SET_COLOR,payload:{color:e}}},setEditReportsDescription:function(e){return{type:Re.SET_DESCRIPTION,payload:{description:e}}},setEditReportsCreators:function(e){return{type:Re.SET_CREATORS,payload:{creators:e}}},setSelectCreator:function(e){return{type:Re.SELECT_CREATOR,payload:{creator:e}}}},Le=Object(c.a)({setTimeFilter:we,setSelectedEvents:te,editSelectedEvents:function(e,t){return{type:ee.EDIT_EVENT,payload:{eventId:e,eventDescription:t}}}},Ne),De=Object(o.b)((function(e){var t,n,a;return{reportsList:null===(t=e.reportsList.get("reports"))||void 0===t?void 0:t.toJS(),selectCreator:e.reportsList.get("selectCreator"),creators:null===(n=e.reportsList.get("creators"))||void 0===n?void 0:n.toJS(),timeFilter:e.common.get("timeFilter").toJS(),title:e.reportsList.get("title"),color:e.reportsList.get("color"),description:e.reportsList.get("description"),selectedEvents:null===(a=e.selectedEvents.get("selects"))||void 0===a?void 0:a.toJS()}}),Le)((function(e){return Object(m.jsx)(Ae,Object(c.a)({},e))})),Ie={SET_IMAGE:"SET_IMAGE",SET_DESCRIPRTION:"SET_DESCRIPRTION",SET_APPROVE:"SET_APPROVE",SET_TAG:"SET_TAG",ADD_TAG:"ADD_TAG",SET_DESTINATION:"SET_DESTINATION",SET_CLASSROOMS:"SET_CLASSROOMS",SET_KIDS:"SET_KIDS",SET_DYNAMIC_TAGS:"SET_DYNAMIC_TAGS"},_e=function(e){return{type:Ie.SET_IMAGE,payload:{image:e}}},ke={setShareReportsImage:_e,setShareReportsDescription:function(e){return{type:Ie.SET_DESCRIPRTION,payload:{description:e}}},setShareReportsApprove:function(e){return{type:Ie.SET_APPROVE,payload:{approve:e}}},setShareReportsTag:function(e){return{type:Ie.SET_TAG,payload:{tag:e}}},setDestination:function(e){return{type:Ie.SET_DESTINATION,payload:{destination:e}}},setShareReportsClassroom:function(e){return{type:Ie.SET_CLASSROOMS,payload:{classrooms:e}}},setShareReportsKids:function(e){return{type:Ie.SET_KIDS,payload:{kids:e}}},setDynamicTags:function(e){return{type:Ie.SET_DYNAMIC_TAGS,payload:{tags:e}}},addTag:function(e){return{type:Ie.ADD_TAG,payload:{tag:e}}}},Be=n(157),Fe=n.n(Be),Qe=n(158),Pe=n.n(Qe),Me=n(254),Ve=n(255),ze=n(248),He=n(83),Je=n(247),Ge=n(246),We=n(262),Ke=n(256),Ue=n(263),Xe=n(240),Ye=n(216),Ze=n(249),qe=n(252),$e=n(250),et=n(251),tt=n(106),nt=["children","onClick","className","setTag","selected","setSelected"],at=Object(Z.a)((function(e){return{root:{borderRadius:"45px",marginRight:"10px"}}})),it=function(e){var t=e.children,n=(e.onClick,e.className),a=e.setTag,s=e.selected,r=e.setSelected,o=Object(he.a)(e,nt),l=at(),d=i.a.useState(!1),u=Object(b.a)(d,2);u[0],u[1];return Object(m.jsx)(F.a,Object(c.a)(Object(c.a)({className:l.root+" "+n,variant:s.includes(t)?"contained":"outlined",onClick:function(){a(t),!s.includes(t)&&r((function(e){return[].concat(Object(tt.a)(e),[t])})),s.includes(t)&&r((function(e){return e.filter((function(e){return e!==t}))}))},color:"primary"},o),{},{children:t}))},st=["title","tags"],rt=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),ct=function(e){var t=e.title,n=e.tags,a=Object(he.a)(e,st),s=rt(),r=i.a.useState(!1),o=Object(b.a)(r,2),l=o[0],d=o[1],u=i.a.useState([]),j=Object(b.a)(u,2),p=j[0],x=j[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Ye.a,{button:!0,onClick:function(){d(!l)},children:[Object(m.jsx)(Ze.a,{primary:t}),l?Object(m.jsx)($e.a,{}):Object(m.jsx)(et.a,{})]}),Object(m.jsx)(qe.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(We.a,{className:s.tagsList,children:n&&n.map((function(e,t){return Object(m.jsx)(it,Object(c.a)(Object(c.a)({},a),{},{setSelected:x,selected:p,children:e}),e+"_"+t)}))})})]})},ot=Object(a.memo)(ct),lt=["select","onButtonClick","children","className","setDestination"],dt=Object(Z.a)((function(e){return{root:{borderRadius:"45px",marginRight:"10px"}}})),ut=function(e){var t=e.select,n=e.onButtonClick,a=e.children,i=e.className,s=e.setDestination,r=Object(he.a)(e,lt),o=dt();return Object(m.jsx)(F.a,Object(c.a)(Object(c.a)({className:o.root+" "+i,variant:t===a?"contained":"outlined",onClick:function(){n(a),s(a)},color:"primary"},r),{},{children:a}))},jt=Object(a.memo)(ut),pt=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),bt=function(e){var t=e.setDestination,n=pt(),a=i.a.useState(!1),s=Object(b.a)(a,2),r=s[0],c=s[1],o=i.a.useState(""),l=Object(b.a)(o,2),d=l[0],u=l[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Ye.a,{button:!0,onClick:function(){c(!r)},children:[Object(m.jsx)(Ze.a,{primary:I.destination.name}),r?Object(m.jsx)($e.a,{}):Object(m.jsx)(et.a,{})]}),Object(m.jsx)(qe.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(We.a,{className:n.tagsList,children:I.destination.items.map((function(e,n){return Object(m.jsx)(jt,{onButtonClick:u,select:d,color:A===e.type?"primary":"secondary",setDestination:t,children:e.text},e+"_"+n)}))})})]})},xt=Object(a.memo)(bt),ht=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),mt=function(e){var t=e.tags,n=e.setTag,a=ht(),s=i.a.useState(!1),r=Object(b.a)(s,2),c=r[0],o=r[1],l=i.a.useState(null),d=Object(b.a)(l,2),u=d[0],j=d[1],p=i.a.useState([]),x=Object(b.a)(p,2),h=x[0],O=x[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Ye.a,{button:!0,onClick:function(){o(!c)},children:[Object(m.jsx)(Ze.a,{primary:t.title}),c?Object(m.jsx)($e.a,{}):Object(m.jsx)(et.a,{})]}),Object(m.jsxs)(qe.a,{in:c,timeout:"auto",unmountOnExit:!0,children:[Object(m.jsx)(We.a,{className:a.tagsList,children:t&&t.classes.map((function(e,t){return Object(m.jsx)(F.a,{color:u===e.class?"primary":"",onClick:function(){return t=e.class,void j(t);var t},children:e.class},e.class+"_"+t)}))}),Object(m.jsx)(We.a,{className:a.tagsList,children:t.classes.map((function(e){if(u===e.class)return e.kids.map((function(e,t){return Object(m.jsx)(it,{setTag:n,selected:h,setSelected:O,children:e},e+"_"+t)}))}))})]})]})},Ot=Object(a.memo)(mt),gt=Object(Z.a)((function(e){return{textInput:{width:"98%",marginLeft:"10px"}}})),ft=function(e){var t=e.classrooms,n=e.kids,s=e.addTag,r=e.textTags,c=e.dynamicTags,o=e.setDestination,l=e.setShareReportsClassroom,d=e.setShareReportsKids,u=e.setDynamicTags,j=e.setShareReportsTag,p=gt(),x=Object(a.useState)(""),h=Object(b.a)(x,2),O=h[0],g=h[1];i.a.useEffect((function(){l(I.sharedPageClass.tags),d(I.sharedPageChildren),u(I.sharedPage)}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Xe.a,{children:[Object(m.jsx)(xt,{setDestination:o}),t&&Object(m.jsx)(ot,{title:"\u30af\u30e9\u30b9",tags:t,setTag:j}),n&&Object(m.jsx)(Ot,{setTag:j,tags:n}),c&&c.map((function(e,t){return Object(m.jsx)(ot,{setTag:j,title:e.title,tags:e.tags},t)})),Object(m.jsx)(ot,{title:"\u90fd\u5ea6\u8a2d\u5b9a",setTag:j,color:"secondary",tags:r})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(E.a,{className:p.textInput,value:O,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(s(O),g(""))}})]})},Et=Object(a.memo)(ft),vt=Object(c.a)({},ke),St=Object(o.b)((function(e){return{classrooms:e.shareReports.get("classrooms"),kids:e.shareReports.get("kids"),dynamicTags:e.shareReports.get("dynamicTags"),textTags:e.shareReports.get("textTags"),destination:e.shareReports.get("destination")}}),vt)((function(e){return Object(m.jsx)(Et,Object(c.a)({},e))})),Tt=n(253);function yt(e){var t=e.title,n=e.text,a=e.open,i=e.onClose,s=function(){i(!1)};return Object(m.jsxs)(_.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(k.a,{id:"alert-dialog-title",children:t}),Object(m.jsx)(Ge.a,{children:Object(m.jsx)(Tt.a,{id:"alert-dialog-description",children:n})}),Object(m.jsx)(B.a,{children:Object(m.jsx)(F.a,{onClick:s,color:"primary",autoFocus:!0,children:"Ok"})})]})}var At=Object(Z.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#F6F6F6"},input:{display:"none"},toolBar:{display:"flex",justifyContent:"space-between"},closeButton:{color:"#00AF10"},text:{color:"black"},content:{padding:0,display:"flex",justifyContent:"space-between",backgroundColor:"#f5f2f0",width:"100vw",height:"100%"},leftSide:{display:"flex",flexDirection:"column",width:"30vw",padding:"15px"},imgPreview:{width:"auto",height:"auto",maxHeight:"20vh"},previewContainer:{backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",width:"100%",minHeight:"25vh",marginBottom:"15px",display:"flex",justifyContent:"center",alignItems:"center"},confirm:{padding:0,backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",display:"flex",justifyContent:"flex-start",alignItems:"center"},textAreaText:{margin:"15px 0",borderRadius:"1px",fontSize:"16px",backgroundColor:"white"},button:{width:"100%","&:hover":{backgroundColor:"#1db51d"}},rightSide:{backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",width:"70vw",height:"100%",marginRight:"10px"},saveButton:{position:"absolute",right:"50px",bottom:"50px",backgroundColor:"#00AF10",color:"white","&:hover":{backgroundColor:"#18d629"}}}})),Ct=i.a.forwardRef((function(e,t){return Object(m.jsx)(Me.a,Object(c.a)({direction:"up",ref:t},e))})),wt=function(e){var t,n=e.open,a=e.destination,s=e.handleClose,r=e.setShareReportsApprove,c=e.approve,o=e.description,u=e.setShareReportsDescription,j=e.tags,p=e.image,x=e.setShareReportsImage,h=e.setSelectedEvents,O=e.addEvent,g=e.setDestination,f=At(),E=Object(l.f)(),v=i.a.useState(!1),S=Object(b.a)(v,2),T=S[0],y=S[1],A=i.a.useState(!1),C=Object(b.a)(A,2),w=C[0],R=C[1];return Object(m.jsxs)(_.a,{fullScreen:!0,open:n,onClose:s,TransitionComponent:Ct,children:[Object(m.jsx)(Ve.a,{className:f.appBar,children:Object(m.jsxs)(ze.a,{className:f.toolBar,children:[Object(m.jsx)(He.a,{className:f.text,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(m.jsx)(Je.a,{className:f.closeButton,edge:"end",onClick:s,"aria-label":"close",children:Object(m.jsx)(Fe.a,{})})]})}),Object(m.jsxs)(Ge.a,{className:f.content,children:[Object(m.jsxs)(We.a,{className:f.leftSide,children:[Object(m.jsx)(Ke.a,{className:f.previewContainer,children:null!=p?Object(m.jsx)("img",{className:f.imgPreview,src:p,alt:"preview"}):Object(m.jsx)(He.a,{children:"No Image"})}),Object(m.jsx)("input",{className:f.input,onChange:function(e){var t=e.target.files[0];x(URL.createObjectURL(t))},id:"contained-button-file",type:"file"}),Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(F.a,(t={className:f.button,variant:"outlined",color:"primary"},Object(je.a)(t,"variant","contained"),Object(je.a)(t,"component","span"),Object(je.a)(t,"children","\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u307e\u3059"),t))}),Object(m.jsx)(ge,{className:f.textAreaText,multiline:!0,variant:"outlined",rows:5,value:o,onValueChange:u,showError:T,validators:[pe]}),Object(m.jsxs)(Ke.a,{className:f.confirm,children:[Object(m.jsx)(Ue.a,{value:c,onChange:function(e){return r(e.target.checked)}}),Object(m.jsx)(He.a,{children:"\u627f\u8a8d"})]})]}),Object(m.jsx)(We.a,{className:f.rightSide,children:Object(m.jsx)(St,{})})]}),Object(m.jsx)(Je.a,{className:f.saveButton,onClick:function(){o?a?(y(!1),O({id:284478378,img:p,title:"title",tagList:j,description:o,date:ae(new Date)}),h([]),g(null),E.push(d.EVENTS_LIST_PAGE)):R(!0):y(!0)},"aria-label":"save",children:Object(m.jsx)(Pe.a,{})}),Object(m.jsx)(yt,{open:w,onClose:R,title:"",text:"\u5b9b\u5148\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093"})]})},Rt=Object(a.memo)(wt),Nt=Object(c.a)(Object(c.a)({},ke),{},{setSelectedEvents:te,addEvent:p}),Lt=Object(o.b)((function(e){return{description:e.shareReports.get("description"),image:e.shareReports.get("image"),approve:e.shareReports.get("approve"),destination:e.shareReports.get("destination"),tags:e.shareReports.get("tags")}}),Nt)((function(e){return Object(m.jsx)(Rt,Object(c.a)({},e))})),Dt=n(159),It=n.n(Dt),_t=n(34),kt=["img","x","y","text"],Bt=function(e){var t=e.img,n=e.x,a=e.y,i=e.text,s=Object(he.a)(e,kt),r=It()(t),o=Object(b.a)(r,1)[0],l=function(e,t,n,a){var i,s;return t>e?(i=n,s=a,i=n/(t/(e/n)/a)):(s=a,i=n,s=a/(e/(t/a)/n)),{adaptedWidth:i,adaptedHeight:s}}(null===o||void 0===o?void 0:o.naturalWidth,null===o||void 0===o?void 0:o.naturalHeight,150,140),d=l.adaptedWidth,u=l.adaptedHeight;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(_t.b,Object(c.a)({image:o,width:d,height:u,x:n,y:a,stroke:"white",strokeWidth:10,cornerRadius:10},s)),Object(m.jsx)(_t.f,{x:n,y:a+u+5,width:d+55,text:i,fontSize:8.5})]})},Ft=function(e){var t,n,a,i,s,r,c=e.backgroundColor,o=e.selectedEvents,l=(e.events,e.width),d=e.height,u=e.description,j=e.title,p=e.date,b=e.selectCreator,x=e.schoolName,h=e.reference;return console.log("selectedEvents",o),Object(m.jsx)(_t.e,{width:l,height:d,ref:h,children:Object(m.jsxs)(_t.c,{children:[Object(m.jsx)(_t.d,{x:0,y:0,width:l,height:d,fill:c}),Object(m.jsx)(_t.d,{x:40,y:30,width:l-80,height:50,fill:"#F57F34",cornerRadius:10}),Object(m.jsx)(_t.f,{x:50,y:45,text:j,fontSize:24,fill:"white",fontStyle:"bold"}),Object(m.jsx)(_t.f,{x:l-150,y:15,text:p,fontSize:15}),Object(m.jsx)(_t.f,{x:l-130,y:60,text:b,fontSize:12}),Object(m.jsx)(_t.f,{x:50,y:15,text:x,fontSize:16}),Object(m.jsx)(_t.a,{x:150,y:230,radius:60,fill:"white"}),Object(m.jsx)(_t.a,{x:150,y:530,radius:60,fill:"white"}),Object(m.jsx)(_t.a,{x:350,y:200,radius:60,fill:"white"}),o.length<2?Object(m.jsx)(Bt,{x:70,y:90,img:null===o||void 0===o?void 0:o[0].img,text:o[0].description}):o.length<3?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Bt,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(m.jsx)(Bt,{x:70,y:360,img:o[1].img,text:null===(t=o[1])||void 0===t?void 0:t.description})]}):o.length<4?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Bt,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(m.jsx)(Bt,{x:70,y:360,img:o[1].img,text:null===(n=o[1])||void 0===n?void 0:n.description}),Object(m.jsx)(Bt,{x:290,y:90,img:o[2].img,text:null===(a=o[2])||void 0===a?void 0:a.description})]}):o.length<5?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Bt,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(m.jsx)(Bt,{x:70,y:360,img:o[1].img,text:null===(i=o[1])||void 0===i?void 0:i.description}),Object(m.jsx)(Bt,{x:290,y:90,img:o[2].img,text:null===(s=o[2])||void 0===s?void 0:s.description}),Object(m.jsx)(Bt,{x:290,y:360,img:o[3].img,text:null===(r=o[3])||void 0===r?void 0:r.description})]}):null,Object(m.jsx)(_t.d,{x:35,y:d-125,width:l-70,height:110,fill:"white",stroke:"#F57F34",strokeWidth:3,cornerRadius:10}),Object(m.jsx)(_t.f,{x:45,width:l-85,y:d-120,text:u,fontSize:12})]})})},Qt=n(161),Pt=Object(Z.a)((function(e){return{root:{display:"flex",margin:"10px"},content:{width:"100%",height:"80vh",display:"flex",justifyContent:"center"},bottom:{display:"flex",justifyContent:"center"},button:{margin:"10px"},title:{marginLeft:"20px",marginTop:"10px"},returnButton:{marginLeft:"20px",marginTop:"15px"},canvas:{backgroundColor:"gray"}}})),Mt=function(e){var t=e.selectCreator,n=e.timeFilter,s=e.title,r=e.color,c=e.description,o=e.selectedEvents,u=(e.addEvent,e.setShareReportsImage),j=Object(a.useRef)(null),p=(Object(l.f)(),Pt()),x=i.a.useState(!1),h=Object(b.a)(x,2),O=h[0],g=h[1],f=function(){u(j.current.toDataURL({pixelRatio:1.5})),g(!0)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(He.a,{className:p.title,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(m.jsx)(F.a,{className:p.returnButton,variant:"contained",color:"primary",component:ne.b,to:d.EDIT_REPORTS,children:"\u7de8\u96c6\u753b\u9762\u3078\u623b\u308b"}),Object(m.jsx)(Ke.a,{className:p.content,children:Object(m.jsx)(Ft,{reference:j,className:p.canvas,width:530,height:750,backgroundColor:r,title:s,date:null===n||void 0===n?void 0:n.day,description:c,selectCreator:t,selectedEvents:o,schoolName:"\u65e5\u672c\u6a19\u6e96\u3053\u3069\u3082\u5712"})}),Object(m.jsx)(Ke.a,{className:p.bottom,children:Object(m.jsxs)(We.a,{children:[Object(m.jsx)(F.a,{className:p.button,variant:"outlined",color:"primary",onClick:f,children:"\u4e00\u6642\u4fdd\u5b58"}),Object(m.jsx)(F.a,{className:p.button,onClick:function(){var e=new Qt.a;e.addImage(j.current.toDataURL({pixelRatio:1.5}),0,0),e.save("report.pdf")},variant:"outlined",color:"primary",children:"PDF\u3067\u4fdd\u5b58"}),Object(m.jsx)(F.a,{className:p.button,variant:"contained",color:"primary",onClick:f,children:"\u4fdd\u8b77\u8005\u3068\u5171\u6709"})]})}),Object(m.jsx)(Lt,{open:O,handleClose:function(){g(!1)}})]})},Vt=Object(a.memo)(Mt),zt=Object(c.a)({setTimeFilter:we,setSelectedEvents:te,addEvent:p,setShareReportsImage:_e},Ne),Ht=Object(o.b)((function(e){var t,n;return n={selectCreator:e.reportsList.get("selectCreator"),timeFilter:e.common.get("timeFilter"),title:e.reportsList.get("title"),color:e.reportsList.get("color"),description:e.reportsList.get("description")},Object(je.a)(n,"selectCreator",e.reportsList.get("selectCreator")),Object(je.a)(n,"selectedEvents",null===(t=e.selectedEvents.get("selects"))||void 0===t?void 0:t.toJS()),n}),zt)((function(e){return Object(m.jsx)(Vt,Object(c.a)({},e))})),Jt=function(e){var t=e.setEventsListData;return Object(a.useEffect)((function(){console.log("Root Page",I.eventsList),t(I.eventsList)}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:d.EVENTS_LIST_PAGE,children:Object(m.jsx)(ue,{})}),Object(m.jsx)(l.a,{exact:!0,path:d.EDIT_REPORTS,children:Object(m.jsx)(De,{})}),Object(m.jsx)(l.a,{exact:!0,path:d.PREVIEW_LiST_PAGE,children:Object(m.jsx)(Ht,{})})]})})},Gt=Object(a.memo)(Jt),Wt={setEventsListData:j},Kt=Object(o.b)((function(e){var t;return{eventsList:null===(t=e.eventsList.get("events"))||void 0===t?void 0:t.toJS()}}),Wt)((function(e){return Object(m.jsx)(Gt,Object(c.a)({},e))})),Ut=n(162),Xt=Object(Ut.a)(),Yt=n(130),Zt=n(22),qt=new Zt.a.Record({id:0,img:null,title:"",tagList:[],description:"",date:"",month:""}),$t=function(e){return function(t){return new Zt.a.List(t.map((function(t){return new e(t)})))}},en=new Zt.a.OrderedMap({events:new Zt.a.List}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_EVENTS:return e.set("events",$t(qt)(t.payload.events));case u.ADD_EVENT:var n=e.get("events").unshift(t.payload.event);return e.set("events",$t(qt)(n));default:return e}},nn=new Zt.a.Record({day:ae(new Date)}),an=new Zt.a.OrderedMap({timeFilter:new nn}),sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;return t.type===Ce.SET_TIME_FILTER?e.setIn(["timeFilter","day"],ae(t.payload.timeFilter)):e},rn=new Zt.a.OrderedMap({reports:new Zt.a.List,creators:new Zt.a.List,selectCreator:"",title:"",description:"",color:xe[0]}),cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.SET_REPORTS:return e.set("reports",new Zt.a.List(t.payload.reports));case Re.SET_TITLE:return e.set("title",t.payload.title);case Re.SET_COLOR:return e.set("color",t.payload.color);case Re.SET_DESCRIPTION:return e.set("description",t.payload.description);case Re.SET_CREATORS:return e.set("creators",new Zt.a.List(t.payload.creators));case Re.SELECT_CREATOR:return e.set("selectCreator",t.payload.creator);default:return e}},on=new Zt.a.OrderedMap({image:null,description:"",approve:!1,destination:"",classrooms:null,kids:null,dynamicTags:null,tags:new Zt.a.List([]),textTags:new Zt.a.List([])}),ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie.SET_IMAGE:return e.set("image",t.payload.image);case Ie.SET_DESCRIPRTION:return e.set("description",t.payload.description);case Ie.SET_APPROVE:return e.set("approve",t.payload.approve);case Ie.SET_DESTINATION:return e.set("destination",t.payload.destination);case Ie.SET_CLASSROOMS:return e.set("classrooms",new Zt.a.List(t.payload.classrooms));case Ie.SET_KIDS:return e.set("kids",t.payload.kids);case Ie.SET_DYNAMIC_TAGS:return e.set("dynamicTags",new Zt.a.List(t.payload.tags));case Ie.ADD_TAG:return e.update("textTags",(function(e){return e.push(t.payload.tag)}));case Ie.SET_TAG:return e.update("tags",(function(e){return e.includes(t.payload.tag)?e.filter((function(e){return e!==t.payload.tag})):e.push(t.payload.tag)}));default:return e}},dn=function(e){return function(t){return new Zt.a.List(t.map((function(t){return new e(t)})))}},un=new Zt.a.OrderedMap({selects:new Zt.a.List}),jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.SET_SELECTED:return e.set("selects",dn(qt)(t.payload.selects));case ee.EDIT_EVENT:return e.update("selects",(function(e){return e.map((function(e){return e.id===t.payload.eventId?e.set("description",t.payload.eventDescription):e}))}));default:return e}},pn=Object(Yt.a)({common:sn,eventsList:tn,reportsList:cn,shareReports:ln,selectedEvents:jn}),bn=Object(Yt.b)(pn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),xn=n(239),hn=n(164),mn=Object(hn.a)({palette:{primary:{main:"#00AE00",contrastText:"#fff"},secondary:{main:"#AE0000",contrastText:"#fff"}}});r.a.render(Object(m.jsx)(ne.a,{basename:"/JPERP-web",history:Xt,children:Object(m.jsx)(o.a,{store:bn,children:Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(xn.a,{theme:mn,children:Object(m.jsx)(Kt,{})})})})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.eb9b9bf1.chunk.js.map