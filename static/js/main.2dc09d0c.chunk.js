(this.webpackJsonpjaerp=this.webpackJsonpjaerp||[]).push([[0],{211:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(21),r=n.n(s),c=n(19),o=n(39),l=n(26),d={EDIT_REPORTS:"/edit-reports",PREVIEW_LiST_PAGE:"/preview",EVENTS_LIST_PAGE:"/"},u={SET_EVENTS:"SET_EVENTS",ADD_EVENT:"ADD_EVENT",DELETE_EVENT:"DELETE_EVENT"},j=function(e){return{type:u.SET_EVENTS,payload:{events:e}}},p=function(e){return{type:u.ADD_EVENT,payload:{event:e}}},b=n(16),x=n(43),h=n.n(x),O=n(2),m=h()((function(e){return{title:{fontSize:"18px",fontWeight:400},redText:{color:"#FF0000",fontSize:"12px"},conditions:{marginRight:"10px",fontSize:"12px"},select:{fontSize:"12px"}}})),g=function(){var e=m();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{className:e.title,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(O.jsx)("span",{className:e.conditions,children:"\u4f5c\u6210\u6761\u4ef6 "}),Object(O.jsx)("span",{className:e.select,children:" (\u4f5c\u6210\u3059\u308b\u30af\u30e9\u30b9\u3084\u65e5\u306b\u3061\u3092\u9078\u629e) "}),Object(O.jsx)("span",{className:e.redText,children:" \u203b\u7279\u5b9a\u306e\u7d44\u3092\u9078\u629e\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u5712\u5168\u4f53\u306e\u5712\u5168\u4f53\u306e\u6295\u7a3f\u5199\u771f\u304c\u691c\u7d22\u3055\u308c\u307e\u3059"})]})},E=Object(a.memo)(g),f=n(257),v=n(241),T=h()((function(e){return{select:{width:116,height:23},selectTitle:{fontSize:12,marginLeft:10,marginRight:20},selectInput:{"& .MuiOutlinedInput-root":{height:"23px"},"& .MuiOutlinedInput-input":{padding:"5px"},width:"116px"},test:{height:"30px"}}})),S=function(e){var t=e.title,n=e.value,i=e.setValue,s=e.options,r=T(),c=Object(a.useCallback)((function(e){i(e.target.value)}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{select:!0,className:r.selectInput,variant:"outlined",value:n,onChange:c,children:null===s||void 0===s?void 0:s.map((function(e){return Object(O.jsx)(v.a,{className:r.test,value:e,children:e},e)}))}),Object(O.jsx)("span",{className:r.selectTitle,children:t})]})},y=Object(a.memo)(S),A="SHARE",C="EMERGENCY",w=n.p+"static/media/img1.47682d7b.png",R=n.p+"static/media/img2.0bc9a818.png",N=n.p+"static/media/img3.46d3e063.png",L=n.p+"static/media/img4.43d997c7.png",D=n.p+"static/media/img5.73381e7b.png",I={creators:[{label:"\u6a4b\u672c\u51db",value:"\u6a4b\u672c\u51db"},{label:"\u6625\u91ce\u30b5\u30af\u30e9",value:"\u6625\u91ce\u30b5\u30af\u30e9"},{label:"\u30ab\u30cc\u30fc\u512a\u5b50",value:"\u30ab\u30cc\u30fc\u512a\u5b50"}],destination:{name:"\u5171\u6709\u5148",items:[{text:"\u5185\u90e8\u3067\u5171\u6709\u3059\u308b",type:A},{text:"\u4fdd\u8b77\u8005\u3068\u5171\u6709\u3059\u308b",type:A},{text:"\u7dca\u6025\u9023\u7d61\u5148\uff08\u5185\u90e8\uff09",type:C},{text:"\u7dca\u6025\u9023\u7d61\u5148\uff08\u4fdd\u8b77\u8005\uff09",type:C}]},sharedPageChildren:{title:"\u5b50\u4f9b",classes:[{class:"\u3072\u3088\u3053 (0)",kids:["\u4f50\u85e4","\u9234\u6728","\u9ad8\u6a4b","\u7530\u4e2d\t"]},{class:"\u3042\u3072\u308b (1)",kids:["\u4f0a\u85e4","\u5c71\u672c","\u4e2d\u6751","\u5c0f\u6797"]},{class:"\u3072\u3070\u308a (2)",kids:["\u52a0\u85e4","\u5409\u7530","\u5c71\u7530","\u4f50\u3005\u6728"]}]},sharedPageClass:{title:"\u30af\u30e9\u30b9",tags:["\u3072\u3088\u3053 (0)","\u3042\u3072\u308b (1)","\u3072\u3070\u308a (2)"]},sharedPage:[{title:"\u5834\u6240",tags:["\u4fdd\u80b2\u5ba4","\u904a\u622f\u5ba4","\u7d66\u98df\u5ba4","\u4e8b\u52d9\u5ba4","\u30c8\u30a4\u30ec","\u5eca\u4e0b","\u968e\u6bb5","\u5712\u5ead","\u5712\u5916"]},{title:"3 \u3064\u306e\u8996\u70b9",tags:["\u5065\u5eb7","\u4eba\u9593\u30fb\u8a00\u8449","\u74b0\u5883\u30fb\u8868\u73fe"]},{title:"5 \u9818\u57df",tags:["\u990a\u8b77","\u5065\u5eb7","\u4eba\u9593","\u74b0\u5883","\u8a00\u8449","\u8868\u73fe"]},{title:"10 \u306e\u59ff",tags:["\u5065\u5eb7","\u81ea\u7acb\u5fc3","\u5354\u540c\u6027","\u898f\u7bc4","\u793e\u4f1a","\u601d\u8003\u529b","\u81ea\u7136","\u6570\u30fb\u6587\u5b57","\u8a00\u8449","\u8868\u73fe"]}],eventsList:[{id:1,img:w,title:"\u6a4b\u672c\u51db",tagList:["2018","\u3044\u304f\u3064\u304b\u306e\u30c6\u30ad\u30b9\u30c8","\u6587\u7ae0"],description:"\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2018",month:"January",day:"4",group:"2C"},{id:2,img:R,title:"",tagList:["2017","\u4e00\u6708","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2018",month:"January",day:"6",group:"2C"},{id:3,img:N,title:"",tagList:["2020","\u56db\u6708","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2020",month:"April",day:"3",group:"4C"},{id:4,img:L,title:"",tagList:["\u4e09\u6708","2019","\u6587\u7ae0","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2020",month:"April",day:"2",group:"4C"},{id:5,img:D,title:"",tagList:["\u4e00\u6708","2019","\u6587\u7ae0"],description:"\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u308a\u307e\u3059",date:"2019",month:"January",day:"10",group:"4C"}]},_=n(260),k=n(242),B=n(243),F=n(244),Q=h()((function(e){return{dialog:{"& .MuiDialog-paperWidthSm":{width:599,height:189},"& .MuiDialogTitle-root":{marginTop:27,textAlign:"center"},"& .MuiDialogActions-root":{marginTop:15,justifyContent:"center"}},btn:{width:"130px",height:"30px"}}})),P=function(e){var t=e.open,n=e.setOpen,a=e.id,i=(e.eventsList,e.deleteEvent),s=Q(),r=function(){n(!1)};return Object(O.jsxs)(_.a,{className:s.dialog,open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(k.a,{id:"alert-dialog-title",children:"\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3059\u304b?"}),Object(O.jsxs)(B.a,{children:[Object(O.jsx)(F.a,{className:s.btn,onClick:function(){i(a),n(!1)},variant:"contained",color:"primary",children:"\u306f\u3044"}),Object(O.jsx)(F.a,{className:s.btn,onClick:r,color:"primary",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})},V=Object(a.memo)(P),M=h()((function(e){return{event:{marginTop:62,marginLeft:67,display:"flex",position:"relative"},image:{maxWidth:87,maxHeight:87},imgMain:{width:"auto",height:"auto",maxWidth:"100px",maxHeight:"100px",display:"block"},imgDescriptionBlock:{marginLeft:"37px"},imgTitle:{fontSize:14},imgDescr:{fontSize:12,marginTop:20,width:"70vw"},checkbox:{width:"60px",position:"absolute",top:27,right:125,display:"flex",justifyContent:"space-between"},line:{width:"93vw",border:"1px solid #E2E2E2",marginLeft:"60px",marginTop:"22px"},delete:{cursor:"pointer"},tagList:{display:"flex"},tag:{height:"20px",marginRight:10,color:"#00AE00",border:"1px solid #00AE00",borderRadius:"24px",padding:"4px 10px"}}})),z=function(e){var t=e.deleteEvent,n=e.item,i=e.disable,s=e.handleChange,r=e.selectedCheckbox,c=e.eventsList,o=M(),l=Object(a.useState)(!1),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Object(a.useCallback)((function(e){j(!0)}),[]),x=function(e){for(var t=!1,n=0;n<r.length;n++)if(r[n].id===e){t=!0;break}return t};return Object(a.useEffect)((function(){}),[r,i]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(V,{open:u,setOpen:j,id:n.id,deleteEvent:t,eventsList:c}),Object(O.jsxs)("div",{className:o.event,children:[Object(O.jsx)("div",{className:o.image,children:Object(O.jsx)("img",{className:o.imgMain,src:n.img,alt:""})}),Object(O.jsxs)("div",{className:o.imgDescriptionBlock,children:[Object(O.jsx)("div",{className:o.tagList,children:n.tagList.map((function(e){return Object(O.jsx)("div",{className:o.tag,children:e})}))}),Object(O.jsx)("p",{className:o.imgDescr,children:n.description})]}),Object(O.jsxs)("div",{className:o.checkbox,children:[Object(O.jsx)("input",{onChange:function(){return s(n)},selected:x(n.id),type:"checkbox",disabled:!x(n.id)&&i}),Object(O.jsx)("img",{onClick:p,className:o.delete,src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAATAA8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD94f2htR/aY+Inxl+Lfwr8K/Gb9trxlpvwo8cxm7j+Bfwx+HugaN4dbxTpKeINC0KTxF4a+IvgzxLrlrp2iamthAfEXnPcSWUt88AuHEzfzjxJV4pzLO84ynCZ3x1jaWUY9c6yDKstw9HDPF0ViMPh3icLmeBxWIjSoVVTj9Zu5ODqOPM+Y/1f8JsJ4OcJ+HvAfG+d+Hn0cOHsZxzw1JUJ+JnGfFeaZhm6yTHSyrM8zhlOccJcQ5PltbF5lg5Yqqso5I0oYmGGjV9lH2a9K/Yy1z9ojSvjr4Y+BXjX40/tYaFDD4N8X/EeHwn+0B8Lvhvc/wDCTaNBMuhSFPGV74z8Z+N1Sy17WbXUbKBLtrFH0ySy229vMyN6nBFfiWjn+FyDHZ5xfQisFjczjg+IspyyX1qhGSw7tjZ47G4+1PEV4VYRU3TTpOn7sZNP476Q+W+E2O8Ms68TOHPDrwMzOpU4hyDhGpnvhXxtxdS/sbMalOWZwUuH8Pw7w9w25YnK8urYTEVJUI4mUcZDE3q1aalH7N/ZU/5On/4KFf8AZVvhL/6qiwr7bhH/AJKzxH/7G+Uf+qimfzz44f8AJkfoof8AZEcef+tziRvin/lJt8J/+zQ/iJ/6svQ6MX/ydHJ/+yOzP/1aYYMk/wCUNOOv+z98I/8ArHZoXPjt+xn+zf8AEv4j6n4/8XfD25ufFviSw0yTX9W0bxz8RfCQ1efToX0qzur+w8I+LdD0y4vYtOs7SzN69kbuaC3hWaaTy1xef8EcMZpmdXMcblsp4zFU6TxFajj8ywftpUoujCdSng8Zh6UpqlCEOdw53GMVKTsjHwx+kL4vcHcIYPhbIeK6NHIsnxWNhleBzDhrhLPfqFLF1I47EUMLis+yHM8bSw88XiK+IWGjiFQp1a1SVOnDnlfp/wBm79k/4A/BfxXrvjn4deA30jxbcaJD4cOvap4t8ceLr+DRLy7a+u9PsX8ZeJfECadFdXVjaS3DaeltLOIVjlkaIsjdfDPCHDuR4vEY/LMvdHGSoRwzxFXGY/GVI0Jz9pOnTeNxWIVJTnTg5OmouXKk21oeL4weOfil4iZHlnDXFvE8cfkNLMambrK8FkXDeQ4WrmOHoLDUMViY8PZPlUsXOhQxNeFFYqVaFL2kpwhGdpL/2Q==",alt:""})]})]}),Object(O.jsx)("div",{className:o.line})]})},H=Object(a.memo)(z),J=function(e){var t=e.group,n=e.deleteEvent,a=e.parsedDay,i=e.eventsList,s=e.monthSelect,r=e.yearSelect,c=e.handleChange,o=e.selectedCheckbox,l=e.disable;return Object(O.jsx)(O.Fragment,{children:i.sort((function(e,t){return e-t})).filter((function(e){return s?e.month.toLowerCase().includes(s.toLowerCase()):e})).filter((function(e){return r?e.date.includes(r):e})).filter((function(e){return a?null===e||void 0===e?void 0:e.day.includes(a):e})).filter((function(e){return t?null===e||void 0===e?void 0:e.group.includes(t):e})).map((function(e){return Object(O.jsx)(H,{deleteEvent:n,item:e,disable:l,handleChange:c,selectedCheckbox:o,eventsList:i})}))})},G=Object(a.memo)(J),W=["",2017,2018,2019,2020],K=n(35),U=n(258),X=n(163),Y=n(165),Z=n(245);function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return[n,a,i].join(t)}var $=Object(Z.a)((function(e){return{root:{"& .MuiOutlinedInput-input":{padding:"4px",paddingLeft:"5px",fontSize:"16px",width:"156px"}}}})),ee=function(e){var t=e.disable,n=e.format,a=e.value,i=e.onChange,s=$();return Object(O.jsx)(K.a,{utils:X.a,locale:Y.a,children:Object(O.jsx)(U.a,{disabled:t,autoOk:!0,disableToolbar:!0,className:s.root,variant:"inline",inputVariant:"outlined",value:a,format:n,onChange:i})})},te={SET_SELECTED:"SET_SELECTED",EDIT_EVENT:"EDIT_EVENT"},ne=function(e){return{type:te.SET_SELECTED,payload:{selects:e}}},ae=n(60),ie=h()((function(e){return{select:{width:116,height:23},selectTitle:{fontSize:12,marginLeft:10,marginRight:20},selectInput:{"& .MuiOutlinedInput-root":{height:"23px"},"& .MuiOutlinedInput-input":{padding:"5px"},width:"116px"},test:{height:"30px"}}})),se=function(e){var t=e.disable,n=e.title,i=e.value,s=e.setValue,r=ie(),c=Object(a.useCallback)((function(e){s(e.target.value)}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(f.a,{disabled:t,select:!0,className:r.selectInput,variant:"outlined",value:i,onChange:c,children:[Object(O.jsx)(v.a,{className:r.test,value:""}),Object(O.jsx)(v.a,{value:"January",children:"\u4e00\u6708"}),Object(O.jsx)(v.a,{value:"February",children:"\u4e8c\u6708"}),Object(O.jsx)(v.a,{value:"March",children:"\u4e09\u6708"}),Object(O.jsx)(v.a,{value:"April",children:"\u56db\u6708"}),Object(O.jsx)(v.a,{value:"May",children:"\u4e94\u6708"}),Object(O.jsx)(v.a,{value:"June",children:"\u516d\u6708"}),Object(O.jsx)(v.a,{value:"July",children:"\u4e03\u6708"}),Object(O.jsx)(v.a,{value:"August",children:"\u516b\u6708"}),Object(O.jsx)(v.a,{value:"September",children:"\u4e5d\u6708"}),Object(O.jsx)(v.a,{value:"Octover",children:"\u5341\u6708"}),Object(O.jsx)(v.a,{value:"November",children:"\u5341\u4e00\u6708"}),Object(O.jsx)(v.a,{value:"December",children:"\u5341\u4e8c\u6708"})]}),Object(O.jsx)("span",{className:r.selectTitle,children:n})]})},re=Object(a.memo)(se),ce=["","2C","4C"],oe=h()((function(e){return{underHeaderBlock:{marginLeft:30,marginRight:60},selects:{marginTop:20,"& .MuiOutlinedInput-root":{height:"23px",width:"116px"}},fourReports:{color:"#FF0000",fontSize:"12px",position:"absolute",top:20,left:18},flex:{display:"flex",justifyContent:"space-between"},deleteBtn:{width:"130px",height:"30px",background:"#FF0000",color:"white",border:"1px solid #FF0000",borderRadius:"5px",fontSize:"12px"},editReportBtn:{width:"146",height:"30px"},reportBlock:{position:"relative",marginTop:"25px"},selectTitle:{fontSize:12,marginLeft:10,marginRight:20}}})),le=function(e){var t=e.selectedEvents,n=e.setSelectedEvents,i=e.eventsList,s=e.deleteEvent,r=(e.setEventsListData,oe()),c=Object(a.useState)(""),o=Object(b.a)(c,2),l=o[0],u=o[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),x=p[0],h=p[1],m=Object(a.useState)(""),g=Object(b.a)(m,2),f=g[0],v=g[1],T=Object(a.useState)(""),S=Object(b.a)(T,2),A=S[0],C=S[1],w=Object(a.useState)(""),R=Object(b.a)(w,2),N=R[0],L=R[1],D=Object(a.useState)(null),I=Object(b.a)(D,2),_=(I[0],I[1],Object(a.useState)(!1)),k=Object(b.a)(_,2),B=k[0],Q=k[1],P=Object(a.useState)(!0),V=Object(b.a)(P,2),M=V[0],z=V[1],H=Object(a.useState)(!0),J=Object(b.a)(H,2),K=J[0],U=J[1];return Object(a.useEffect)((function(){A&&L(A.getDate()),U(!f||!x)}),[f,x,A]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:r.underHeaderBlock,children:[Object(O.jsx)(E,{}),Object(O.jsxs)("div",{className:r.flex,children:[Object(O.jsxs)("div",{className:r.selects,children:[Object(O.jsx)(y,{title:"\u7d44",options:ce,value:l,setValue:u}),Object(O.jsx)(y,{title:"\u5e74",options:W,value:f,setValue:v}),Object(O.jsx)(re,{title:"\u6708",setValue:h,value:x}),Object(O.jsx)(ee,{disable:K,format:"dd",value:A||(x&&f?"".concat(f,"/").concat(x):null),onChange:C}),Object(O.jsx)("span",{className:r.selectTitle,children:"\u65e5"})]}),Object(O.jsx)("div",{className:r.reportBlock,children:Object(O.jsxs)("div",{className:r.btns,children:[Object(O.jsx)(F.a,{component:ae.b,to:d.EDIT_REPORTS,className:r.editReportBtn,disabled:M,variant:"contained",color:"primary",children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8\u3092\u7de8\u96c6"}),M?Object(O.jsx)("p",{className:r.fourReports,children:"\u203b\u4e00\u5ea6\u306b\u9078\u3079\u308b\u30ec\u30dd\u30fc\u30c8\u306f4\u70b9\u307e\u3067\u3067\u3059\u3002"}):null]})})]})]}),Object(O.jsx)(G,{eventsList:i,group:l,monthSelect:x,parsedDay:N,deleteEvent:s,yearSelect:f,handleChange:function(e){for(var a,i=!1,s=0;s<t.length;s++)if(t[s].id===e.id){i=!0,a=s;break}i?null===t||void 0===t||t.splice(a,1):null===t||void 0===t||t.push(e),t.length>0&&t.length<4?(Q(!1),z(!1)):Q(!0),0===t.length&&(Q(!1),z(!0)),n(t)},selectedCheckbox:t,disable:B,setDisable:Q})]})},de=Object(a.memo)(le),ue={setEventsListData:j,setSelectedEvents:ne,deleteEvent:function(e){return{type:u.DELETE_EVENT,payload:{eventID:e}}}},je=Object(o.b)((function(e){var t,n;return{eventsList:null===(t=e.eventsList.get("events"))||void 0===t?void 0:t.toJS(),selectedEvents:null===(n=e.selectedEvents.get("selects"))||void 0===n?void 0:n.toJS()}}),ue)((function(e){return Object(O.jsx)(de,Object(c.a)({},e))})),pe=n(11),be=function(e){return e||"number"===typeof e?void 0:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u7a7a\u306b\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093!"},xe=function(e){return(null===e||void 0===e?void 0:e.length)>200?"(200\u6587\u5b57\u307e\u3067\u5165\u529b\u53ef\u80fd)":void 0},he=["#CC4338","#E37067","#538DD5","#95B3D7","#DA9694","#C4D79B","#B1A0C7","#92CDDC","#FBE5D6"],Oe=n(57),me=["value","validators","onChange","onValueChange","showError","className"],ge=Object(Z.a)((function(e){return{root:{padding:"10px","& p":{padding:"2px",fontSize:"0.75em",position:"absolute",top:0,lineHeight:"15px",backgroundColor:"white"}}}})),Ee=function(e){var t=e.value,n=e.validators,a=(e.onChange,e.onValueChange),s=e.showError,r=e.className,o=Object(Oe.a)(e,me),l=ge(),d=i.a.useState(!1),u=Object(b.a)(d,2),j=u[0],p=u[1],x=(n||[]).map((function(e){return e(t)})).find((function(e){return null!=e}));i.a.useEffect((function(){s&&p(!0)}),[s]);return Object(O.jsx)(f.a,Object(c.a)({className:l.root+" "+r,value:t,error:j&&!!x,onChange:function(e){!function(e){p(!0),a&&a(e)}(e.target.value)},helperText:j&&x?x:""},o))},fe=Object(Z.a)((function(e){var t;return{root:Object(pe.a)({display:"flex",margin:"10px"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),imgContainer:{maxWidth:100,maxHeight:100,display:"flex",justifyContent:"center"},img:{margin:"20px 10px 0",width:"auto",height:"auto",maxWidth:"100px",maxHeight:"100px",display:"block"},text:(t={},Object(pe.a)(t,e.breakpoints.down("sm"),{fontSize:"10px"}),Object(pe.a)(t,"padding","10px"),Object(pe.a)(t,"width","45vw"),Object(pe.a)(t,e.breakpoints.down("sm"),{width:"80vw"}),t),title:{margin:0}}})),ve=function(e){var t=e.data,n=e.showError,a=e.editSelectedEvents,i=fe();return Object(O.jsxs)("div",{className:i.root,children:[Object(O.jsx)("div",{className:i.imgContainer,children:Object(O.jsx)("img",{className:i.img,width:"auto",height:"100",alt:"img",src:t.img})}),Object(O.jsx)("div",{children:Object(O.jsx)(Ee,{multiline:!0,minRows:"4",variant:"outlined",className:i.text,value:null===t||void 0===t?void 0:t.description,onValueChange:function(e){a(t.id,e)},showError:n,validators:[be,xe]})})]})},Te=Object(Z.a)((function(e){return{input:{display:"none","&:checked+label":{"& span":{transform:"scale(1.25) translate(-2%, -2%)",border:"1px solid black"}}},label:{display:"inline-block",width:"25px",height:"25px",cursor:"pointer",marginRight:"15px","&:hover":{"& span":{transform:"scale(1.25) translate(-2%, -2%)"}},"& span":{display:"block",width:"100%",height:"100%",borderRadius:"50%",transition:"transform .2s ease-in-out"}}}})),Se=function(e){var t=e.color,n=e.selectedColor,a=e.setColor,i=Te();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{className:i.input,onChange:function(){return a(t)},checked:t===n,type:"radio",name:"color",id:t}),Object(O.jsx)("label",{className:i.label,htmlFor:t,children:Object(O.jsx)("span",{style:{backgroundColor:t}})})]})},ye=Object(Z.a)((function(e){var t;return{root:{padding:"10px"},optionText:{margin:0,fontSize:"12px"},title:Object(pe.a)({fontSize:"18px"},e.breakpoints.down("sm"),{fontSize:"12px"}),titleWrapper:{display:"flex",alignItems:"center",marginBottom:"10px"},input:Object(pe.a)({"& .MuiOutlinedInput-input":{padding:"5px"},"& p":{fontSize:"0.5em"},height:"100%",marginLeft:"7px"},e.breakpoints.down("sm"),{width:"150px"}),selectInput:{"& .MuiOutlinedInput-input":{padding:"5px"},width:"165px",marginLeft:"50px"},content:Object(pe.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),commentTitle:{marginTop:0},commentContent:{paddingTop:"25px"},commentText:Object(pe.a)({width:"45vw"},e.breakpoints.down("sm"),{width:"80vw"}),header:(t={display:"flex"},Object(pe.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(pe.a)(t,"justifyContent","space-between"),t),headerButton:Object(pe.a)({display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",marginTop:"70px"},e.breakpoints.down("sm"),{marginTop:"20px",width:"100%",alignItems:"center"}),button:Object(pe.a)({marginRight:"80px",padding:"5px 15px","&:hover":{backgroundColor:"#1db51d"}},e.breakpoints.down("sm"),{marginRight:"20px",fontSize:8,width:"60vw"}),list:Object(pe.a)({display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"5px 0"},e.breakpoints.down("sm"),{alignItems:"center"}),notification:{color:"red",fontSize:"12px"}}})),Ae=function(e){var t=e.timeFilter,n=e.selectedEvents,s=e.title,r=e.creators,c=e.selectCreator,o=e.color,u=e.description,j=e.setTimeFilter,p=e.setEditReportsCreators,x=e.setEditReportsData,h=e.setEditReportsTitle,m=e.setEditReportsColor,g=e.setEditReportsDescription,E=e.setSelectCreator,f=e.editSelectedEvents,T=ye(),S=i.a.useState(!1),y=Object(b.a)(S,2),A=y[0],C=y[1],w=Object(a.useState)(!0),R=Object(b.a)(w,2),N=R[0],L=R[1],D=Object(l.f)();Object(a.useEffect)((function(){s&&u&&c&&u.length<=200&&n.every((function(e){return e.description.length>0&&e.description.length<=200}))?L(!1):L(!0)}),[s,u,c,n]),Object(a.useEffect)((function(){x(I.reportPage),p(I.creators)}),[]);return Object(O.jsxs)("div",{className:T.root,children:[Object(O.jsxs)("div",{className:T.header,children:[Object(O.jsxs)("div",{className:T.headerOptions,children:[Object(O.jsx)("p",{children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(O.jsxs)("div",{className:T.titleWrapper,children:[Object(O.jsx)("p",{className:T.title,children:"\u30bf\u30a4\u30c8\u30eb:"}),Object(O.jsx)(Ee,{variant:"outlined",className:T.input,onValueChange:h,value:s,showError:A,validators:[be]})]}),Object(O.jsxs)("div",{className:T.titleWrapper,children:[Object(O.jsx)("p",{className:T.optionText,children:"\u30ec\u30dd\u30fc\u30c8\u8868\u793a\u65e5\uff1a"}),Object(O.jsx)(ee,{format:"yyyy/MM/dd",value:t.day,onChange:j})]}),Object(O.jsxs)("div",{className:T.titleWrapper,children:[Object(O.jsx)("p",{className:T.optionText,children:"\u4f5c\u6210\uff1a"}),Object(O.jsx)(Ee,{select:!0,className:T.selectInput,variant:"outlined",value:c,onValueChange:function(e){E(e)},showError:A,validators:[be],children:r.map((function(e){return Object(O.jsx)(v.a,{value:e.value,children:e.label},e.value)}))})]}),Object(O.jsx)("p",{children:"\u30ec\u30dd\u30fc\u30c8\u306e\u80cc\u666f\u8272\u3092\u9078\u629e\uff1a"}),he.map((function(e){return Object(O.jsx)(Se,{color:e,selectedColor:o,setColor:m},e)}))]}),Object(O.jsxs)("div",{className:T.headerButton,children:[Object(O.jsx)(F.a,{disabled:N,className:T.button,variant:"contained",color:"primary",onClick:function(){s&&u?(C(!1),D.push(d.PREVIEW_LiST_PAGE)):C(!0)},children:"\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u78ba\u8a8d"}),N&&Object(O.jsx)("p",{className:T.notification,children:"\u3059\u3079\u3066\u306e\u5fc5\u9808\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u529b\u3057\u307e\u3059"})]})]}),Object(O.jsxs)("div",{className:T.content,children:[Object(O.jsx)("div",{className:T.list,children:n&&n.map((function(e,t){return Object(O.jsx)(ve,{data:e,showError:A,editSelectedEvents:f},e.id+"_"+t)}))}),Object(O.jsxs)("div",{className:T.commentContent,children:[Object(O.jsx)("p",{className:T.commentTitle,children:"\u5148\u751f\u306e\u30b3\u30e1\u30f3\u30c8"}),Object(O.jsx)(Ee,{className:T.commentText,multiline:!0,minRows:"4",showError:A,variant:"outlined",value:u,onValueChange:g,validators:[be,xe]})]})]})]})},Ce=Object(a.memo)(Ae),we={SET_TIME_FILTER:"SET_TIME_FILTER"},Re=function(e){return{type:we.SET_TIME_FILTER,payload:{timeFilter:e}}},Ne={SET_REPORTS:"SET_REPORTS",SET_COLOR:"SET_COLOR",SET_TITLE:"SET_TITLE",SET_DESCRIPTION:"SET_DESCRIPTION",SET_CREATORS:"SET_CREATORS",SELECT_CREATOR:"SELECT_CREATOR"},Le={setEditReportsData:function(e){return{type:Ne.SET_REPORTS,payload:{reports:e}}},setEditReportsTitle:function(e){return{type:Ne.SET_TITLE,payload:{title:e}}},setEditReportsColor:function(e){return{type:Ne.SET_COLOR,payload:{color:e}}},setEditReportsDescription:function(e){return{type:Ne.SET_DESCRIPTION,payload:{description:e}}},setEditReportsCreators:function(e){return{type:Ne.SET_CREATORS,payload:{creators:e}}},setSelectCreator:function(e){return{type:Ne.SELECT_CREATOR,payload:{creator:e}}}},De=Object(c.a)({setTimeFilter:Re,setSelectedEvents:ne,editSelectedEvents:function(e,t){return{type:te.EDIT_EVENT,payload:{eventId:e,eventDescription:t}}}},Le),Ie=Object(o.b)((function(e){var t,n,a;return{reportsList:null===(t=e.reportsList.get("reports"))||void 0===t?void 0:t.toJS(),selectCreator:e.reportsList.get("selectCreator"),creators:null===(n=e.reportsList.get("creators"))||void 0===n?void 0:n.toJS(),timeFilter:e.common.get("timeFilter").toJS(),title:e.reportsList.get("title"),color:e.reportsList.get("color"),description:e.reportsList.get("description"),selectedEvents:null===(a=e.selectedEvents.get("selects"))||void 0===a?void 0:a.toJS()}}),De)((function(e){return Object(O.jsx)(Ce,Object(c.a)({},e))})),_e={SET_IMAGE:"SET_IMAGE",SET_DESCRIPRTION:"SET_DESCRIPRTION",SET_APPROVE:"SET_APPROVE",SET_TAG:"SET_TAG",ADD_TAG:"ADD_TAG",SET_DESTINATION:"SET_DESTINATION",SET_CLASSROOMS:"SET_CLASSROOMS",SET_KIDS:"SET_KIDS",SET_DYNAMIC_TAGS:"SET_DYNAMIC_TAGS"},ke=function(e){return{type:_e.SET_IMAGE,payload:{image:e}}},Be={setShareReportsImage:ke,setShareReportsDescription:function(e){return{type:_e.SET_DESCRIPRTION,payload:{description:e}}},setShareReportsApprove:function(e){return{type:_e.SET_APPROVE,payload:{approve:e}}},setShareReportsTag:function(e){return{type:_e.SET_TAG,payload:{tag:e}}},setDestination:function(e){return{type:_e.SET_DESTINATION,payload:{destination:e}}},setShareReportsClassroom:function(e){return{type:_e.SET_CLASSROOMS,payload:{classrooms:e}}},setShareReportsKids:function(e){return{type:_e.SET_KIDS,payload:{kids:e}}},setDynamicTags:function(e){return{type:_e.SET_DYNAMIC_TAGS,payload:{tags:e}}},addTag:function(e){return{type:_e.ADD_TAG,payload:{tag:e}}}},Fe=n(157),Qe=n.n(Fe),Pe=n(158),Ve=n.n(Pe),Me=n(254),ze=n(255),He=n(248),Je=n(83),Ge=n(247),We=n(246),Ke=n(262),Ue=n(256),Xe=n(263),Ye=n(240),Ze=n(216),qe=n(249),$e=n(252),et=n(250),tt=n(251),nt=n(106),at=["children","onClick","className","setTag","selected","setSelected"],it=Object(Z.a)((function(e){return{root:{borderRadius:"45px",marginRight:"10px"}}})),st=function(e){var t=e.children,n=(e.onClick,e.className),a=e.setTag,s=e.selected,r=e.setSelected,o=Object(Oe.a)(e,at),l=it(),d=i.a.useState(!1),u=Object(b.a)(d,2);u[0],u[1];return Object(O.jsx)(F.a,Object(c.a)(Object(c.a)({className:l.root+" "+n,variant:s.includes(t)?"contained":"outlined",onClick:function(){a(t),!s.includes(t)&&r((function(e){return[].concat(Object(nt.a)(e),[t])})),s.includes(t)&&r((function(e){return e.filter((function(e){return e!==t}))}))},color:"primary"},o),{},{children:t}))},rt=["title","tags"],ct=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),ot=function(e){var t=e.title,n=e.tags,a=Object(Oe.a)(e,rt),s=ct(),r=i.a.useState(!1),o=Object(b.a)(r,2),l=o[0],d=o[1],u=i.a.useState([]),j=Object(b.a)(u,2),p=j[0],x=j[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Ze.a,{button:!0,onClick:function(){d(!l)},children:[Object(O.jsx)(qe.a,{primary:t}),l?Object(O.jsx)(et.a,{}):Object(O.jsx)(tt.a,{})]}),Object(O.jsx)($e.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(O.jsx)(Ke.a,{className:s.tagsList,children:n&&n.map((function(e,t){return Object(O.jsx)(st,Object(c.a)(Object(c.a)({},a),{},{setSelected:x,selected:p,children:e}),e+"_"+t)}))})})]})},lt=Object(a.memo)(ot),dt=["select","onButtonClick","children","className","setDestination"],ut=Object(Z.a)((function(e){return{root:{borderRadius:"45px",marginRight:"10px"}}})),jt=function(e){var t=e.select,n=e.onButtonClick,a=e.children,i=e.className,s=e.setDestination,r=Object(Oe.a)(e,dt),o=ut();return Object(O.jsx)(F.a,Object(c.a)(Object(c.a)({className:o.root+" "+i,variant:t===a?"contained":"outlined",onClick:function(){n(a),s(a)},color:"primary"},r),{},{children:a}))},pt=Object(a.memo)(jt),bt=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),xt=function(e){var t=e.setDestination,n=bt(),a=i.a.useState(!1),s=Object(b.a)(a,2),r=s[0],c=s[1],o=i.a.useState(""),l=Object(b.a)(o,2),d=l[0],u=l[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Ze.a,{button:!0,onClick:function(){c(!r)},children:[Object(O.jsx)(qe.a,{primary:I.destination.name}),r?Object(O.jsx)(et.a,{}):Object(O.jsx)(tt.a,{})]}),Object(O.jsx)($e.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(O.jsx)(Ke.a,{className:n.tagsList,children:I.destination.items.map((function(e,n){return Object(O.jsx)(pt,{onButtonClick:u,select:d,color:A===e.type?"primary":"secondary",setDestination:t,children:e.text},e+"_"+n)}))})})]})},ht=Object(a.memo)(xt),Ot=Object(Z.a)((function(e){return{tagsList:{paddingLeft:e.spacing(4),margin:"5px 0"}}})),mt=function(e){var t=e.tags,n=e.setTag,a=Ot(),s=i.a.useState(!1),r=Object(b.a)(s,2),c=r[0],o=r[1],l=i.a.useState(null),d=Object(b.a)(l,2),u=d[0],j=d[1],p=i.a.useState([]),x=Object(b.a)(p,2),h=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Ze.a,{button:!0,onClick:function(){o(!c)},children:[Object(O.jsx)(qe.a,{primary:t.title}),c?Object(O.jsx)(et.a,{}):Object(O.jsx)(tt.a,{})]}),Object(O.jsxs)($e.a,{in:c,timeout:"auto",unmountOnExit:!0,children:[Object(O.jsx)(Ke.a,{className:a.tagsList,children:t&&t.classes.map((function(e,t){return Object(O.jsx)(F.a,{color:u===e.class?"primary":"",onClick:function(){return t=e.class,void j(t);var t},children:e.class},e.class+"_"+t)}))}),Object(O.jsx)(Ke.a,{className:a.tagsList,children:t.classes.map((function(e){if(u===e.class)return e.kids.map((function(e,t){return Object(O.jsx)(st,{setTag:n,selected:h,setSelected:m,children:e},e+"_"+t)}))}))})]})]})},gt=Object(a.memo)(mt),Et=Object(Z.a)((function(e){return{textInput:{width:"98%",marginLeft:"10px"}}})),ft=function(e){var t=e.classrooms,n=e.kids,s=e.addTag,r=e.textTags,c=e.dynamicTags,o=e.setDestination,l=e.setShareReportsClassroom,d=e.setShareReportsKids,u=e.setDynamicTags,j=e.setShareReportsTag,p=Et(),x=Object(a.useState)(""),h=Object(b.a)(x,2),m=h[0],g=h[1];i.a.useEffect((function(){l(I.sharedPageClass.tags),d(I.sharedPageChildren),u(I.sharedPage)}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Ye.a,{children:[Object(O.jsx)(ht,{setDestination:o}),t&&Object(O.jsx)(lt,{title:"\u30af\u30e9\u30b9",tags:t,setTag:j}),n&&Object(O.jsx)(gt,{setTag:j,tags:n}),c&&c.map((function(e,t){return Object(O.jsx)(lt,{setTag:j,title:e.title,tags:e.tags},t)})),Object(O.jsx)(lt,{title:"\u90fd\u5ea6\u8a2d\u5b9a",setTag:j,color:"secondary",tags:r})]}),Object(O.jsx)("hr",{}),Object(O.jsx)(f.a,{className:p.textInput,value:m,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(s(m),g(""))}})]})},vt=Object(a.memo)(ft),Tt=Object(c.a)({},Be),St=Object(o.b)((function(e){return{classrooms:e.shareReports.get("classrooms"),kids:e.shareReports.get("kids"),dynamicTags:e.shareReports.get("dynamicTags"),textTags:e.shareReports.get("textTags"),destination:e.shareReports.get("destination")}}),Tt)((function(e){return Object(O.jsx)(vt,Object(c.a)({},e))})),yt=n(253);function At(e){var t=e.title,n=e.text,a=e.open,i=e.onClose,s=function(){i(!1)};return Object(O.jsxs)(_.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(k.a,{id:"alert-dialog-title",children:t}),Object(O.jsx)(We.a,{children:Object(O.jsx)(yt.a,{id:"alert-dialog-description",children:n})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(F.a,{onClick:s,color:"primary",autoFocus:!0,children:"Ok"})})]})}var Ct=Object(Z.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#F6F6F6"},input:{display:"none"},toolBar:{display:"flex",justifyContent:"space-between"},closeButton:{color:"#00AF10"},text:{color:"black"},content:{padding:0,display:"flex",justifyContent:"space-between",backgroundColor:"#f5f2f0",width:"100vw",height:"100%"},leftSide:{display:"flex",flexDirection:"column",width:"30vw",padding:"15px"},imgPreview:{width:"auto",height:"auto",maxHeight:"20vh"},previewContainer:{backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",width:"100%",minHeight:"25vh",marginBottom:"15px",display:"flex",justifyContent:"center",alignItems:"center"},confirm:{padding:0,backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",display:"flex",justifyContent:"flex-start",alignItems:"center"},textAreaText:{margin:"15px 0",borderRadius:"1px",fontSize:"16px",backgroundColor:"white"},button:{width:"100%","&:hover":{backgroundColor:"#1db51d"}},rightSide:{backgroundColor:"white",border:"1px solid #bdbdbd",borderRadius:"5px",width:"70vw",height:"100%",marginRight:"10px"},saveButton:{position:"absolute",right:"50px",bottom:"50px",backgroundColor:"#00AF10",color:"white","&:hover":{backgroundColor:"#18d629"}}}})),wt=i.a.forwardRef((function(e,t){return Object(O.jsx)(Me.a,Object(c.a)({direction:"up",ref:t},e))})),Rt=function(e){var t,n=e.open,a=e.destination,s=e.handleClose,r=e.setShareReportsApprove,c=e.approve,o=e.description,u=e.setShareReportsDescription,j=e.tags,p=e.image,x=e.setShareReportsImage,h=e.setSelectedEvents,m=e.addEvent,g=e.setDestination,E=Ct(),f=Object(l.f)(),v=i.a.useState(!1),T=Object(b.a)(v,2),S=T[0],y=T[1],A=i.a.useState(!1),C=Object(b.a)(A,2),w=C[0],R=C[1];return Object(O.jsxs)(_.a,{fullScreen:!0,open:n,onClose:s,TransitionComponent:wt,children:[Object(O.jsx)(ze.a,{className:E.appBar,children:Object(O.jsxs)(He.a,{className:E.toolBar,children:[Object(O.jsx)(Je.a,{className:E.text,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(O.jsx)(Ge.a,{className:E.closeButton,edge:"end",onClick:s,"aria-label":"close",children:Object(O.jsx)(Qe.a,{})})]})}),Object(O.jsxs)(We.a,{className:E.content,children:[Object(O.jsxs)(Ke.a,{className:E.leftSide,children:[Object(O.jsx)(Ue.a,{className:E.previewContainer,children:null!=p?Object(O.jsx)("img",{className:E.imgPreview,src:p,alt:"preview"}):Object(O.jsx)(Je.a,{children:"No Image"})}),Object(O.jsx)("input",{className:E.input,onChange:function(e){var t=e.target.files[0];x(URL.createObjectURL(t))},id:"contained-button-file",type:"file"}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(F.a,(t={className:E.button,variant:"outlined",color:"primary"},Object(pe.a)(t,"variant","contained"),Object(pe.a)(t,"component","span"),Object(pe.a)(t,"children","\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u307e\u3059"),t))}),Object(O.jsx)(Ee,{className:E.textAreaText,multiline:!0,variant:"outlined",rows:5,value:o,onValueChange:u,showError:S,validators:[be]}),Object(O.jsxs)(Ue.a,{className:E.confirm,children:[Object(O.jsx)(Xe.a,{value:c,onChange:function(e){return r(e.target.checked)}}),Object(O.jsx)(Je.a,{children:"\u627f\u8a8d"})]})]}),Object(O.jsx)(Ke.a,{className:E.rightSide,children:Object(O.jsx)(St,{})})]}),Object(O.jsx)(Ge.a,{className:E.saveButton,onClick:function(){o?a?(y(!1),m({id:284478378,img:p,title:"title",tagList:j,description:o,date:q(new Date)}),h([]),g(null),f.push(d.EVENTS_LIST_PAGE)):R(!0):y(!0)},"aria-label":"save",children:Object(O.jsx)(Ve.a,{})}),Object(O.jsx)(At,{open:w,onClose:R,title:"",text:"\u5b9b\u5148\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093"})]})},Nt=Object(a.memo)(Rt),Lt=Object(c.a)(Object(c.a)({},Be),{},{setSelectedEvents:ne,addEvent:p}),Dt=Object(o.b)((function(e){return{description:e.shareReports.get("description"),image:e.shareReports.get("image"),approve:e.shareReports.get("approve"),destination:e.shareReports.get("destination"),tags:e.shareReports.get("tags")}}),Lt)((function(e){return Object(O.jsx)(Nt,Object(c.a)({},e))})),It=n(159),_t=n.n(It),kt=n(34),Bt=["img","x","y","text"],Ft=function(e){var t=e.img,n=e.x,a=e.y,i=e.text,s=Object(Oe.a)(e,Bt),r=_t()(t),o=Object(b.a)(r,1)[0],l=function(e,t,n,a){var i,s;return t>e?(i=n,s=a,i=n/(t/(e/n)/a)):(s=a,i=n,s=a/(e/(t/a)/n)),{adaptedWidth:i,adaptedHeight:s}}(null===o||void 0===o?void 0:o.naturalWidth,null===o||void 0===o?void 0:o.naturalHeight,150,140),d=l.adaptedWidth,u=l.adaptedHeight;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(kt.b,Object(c.a)({image:o,width:d,height:u,x:n,y:a,stroke:"white",strokeWidth:10,cornerRadius:10},s)),Object(O.jsx)(kt.f,{x:n,y:a+u+5,width:d+55,text:i,fontSize:8.5})]})},Qt=function(e){var t,n,a,i,s,r,c=e.backgroundColor,o=e.selectedEvents,l=(e.events,e.width),d=e.height,u=e.description,j=e.title,p=e.date,b=e.selectCreator,x=e.schoolName,h=e.reference;return Object(O.jsx)(kt.e,{width:l,height:d,ref:h,children:Object(O.jsxs)(kt.c,{children:[Object(O.jsx)(kt.d,{x:0,y:0,width:l,height:d,fill:c}),Object(O.jsx)(kt.d,{x:40,y:30,width:l-80,height:50,fill:"#F57F34",cornerRadius:10}),Object(O.jsx)(kt.f,{x:50,y:45,text:j,fontSize:24,fill:"white",fontStyle:"bold"}),Object(O.jsx)(kt.f,{x:l-150,y:15,text:p,fontSize:15}),Object(O.jsx)(kt.f,{x:l-130,y:60,text:b,fontSize:12}),Object(O.jsx)(kt.f,{x:50,y:15,text:x,fontSize:16}),Object(O.jsx)(kt.a,{x:150,y:230,radius:60,fill:"white"}),Object(O.jsx)(kt.a,{x:150,y:530,radius:60,fill:"white"}),Object(O.jsx)(kt.a,{x:350,y:200,radius:60,fill:"white"}),o.length<2?Object(O.jsx)(Ft,{x:70,y:90,img:null===o||void 0===o?void 0:o[0].img,text:o[0].description}):o.length<3?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Ft,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(O.jsx)(Ft,{x:70,y:360,img:o[1].img,text:null===(t=o[1])||void 0===t?void 0:t.description})]}):o.length<4?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Ft,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(O.jsx)(Ft,{x:70,y:360,img:o[1].img,text:null===(n=o[1])||void 0===n?void 0:n.description}),Object(O.jsx)(Ft,{x:290,y:90,img:o[2].img,text:null===(a=o[2])||void 0===a?void 0:a.description})]}):o.length<5?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Ft,{x:70,y:90,img:o[0].img,text:o[0].description}),Object(O.jsx)(Ft,{x:70,y:360,img:o[1].img,text:null===(i=o[1])||void 0===i?void 0:i.description}),Object(O.jsx)(Ft,{x:290,y:90,img:o[2].img,text:null===(s=o[2])||void 0===s?void 0:s.description}),Object(O.jsx)(Ft,{x:290,y:360,img:o[3].img,text:null===(r=o[3])||void 0===r?void 0:r.description})]}):null,Object(O.jsx)(kt.d,{x:35,y:d-125,width:l-70,height:110,fill:"white",stroke:"#F57F34",strokeWidth:3,cornerRadius:10}),Object(O.jsx)(kt.f,{x:45,width:l-85,y:d-120,text:u,fontSize:12})]})})},Pt=n(161),Vt=Object(Z.a)((function(e){return{root:{display:"flex",margin:"10px"},content:{width:"100%",display:"flex",justifyContent:"center"},bottom:{display:"flex",justifyContent:"center"},button:{margin:"10px"},title:{marginLeft:"20px",marginTop:"10px"},returnButton:{marginLeft:"20px",marginTop:"15px"},canvas:{backgroundColor:"gray"}}})),Mt=function(e){var t=e.selectCreator,n=e.timeFilter,s=e.title,r=e.color,c=e.description,o=e.selectedEvents,u=(e.addEvent,e.setShareReportsImage),j=Object(a.useRef)(null),p=(Object(l.f)(),Vt()),x=i.a.useState(!1),h=Object(b.a)(x,2),m=h[0],g=h[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Je.a,{className:p.title,children:"\u7c21\u5358\u30ec\u30dd\u30fc\u30c8"}),Object(O.jsx)(F.a,{className:p.returnButton,variant:"contained",color:"primary",component:ae.b,to:d.EDIT_REPORTS,children:"\u7de8\u96c6\u753b\u9762\u3078\u623b\u308b"}),Object(O.jsx)(Ue.a,{className:p.content,children:Object(O.jsx)(Qt,{reference:j,className:p.canvas,width:530,height:750,backgroundColor:r,title:s,date:null===n||void 0===n?void 0:n.day,description:c,selectCreator:t,selectedEvents:o,schoolName:"\u65e5\u672c\u6a19\u6e96\u3053\u3069\u3082\u5712"})}),Object(O.jsx)(Ue.a,{className:p.bottom,children:Object(O.jsxs)(Ke.a,{children:[Object(O.jsx)(F.a,{className:p.button,onClick:function(){var e=new Pt.a;e.addImage(j.current.toDataURL({pixelRatio:1.5}),0,0),e.save("report.pdf")},variant:"outlined",color:"primary",children:"PDF\u3067\u4fdd\u5b58"}),Object(O.jsx)(F.a,{className:p.button,variant:"contained",color:"primary",onClick:function(){u(j.current.toDataURL({pixelRatio:1.5})),g(!0)},children:"\u4fdd\u8b77\u8005\u3068\u5171\u6709"})]})}),Object(O.jsx)(Dt,{open:m,handleClose:function(){g(!1)}})]})},zt=Object(a.memo)(Mt),Ht=Object(c.a)({setTimeFilter:Re,setSelectedEvents:ne,addEvent:p,setShareReportsImage:ke},Le),Jt=Object(o.b)((function(e){var t,n;return n={selectCreator:e.reportsList.get("selectCreator"),timeFilter:e.common.get("timeFilter"),title:e.reportsList.get("title"),color:e.reportsList.get("color"),description:e.reportsList.get("description")},Object(pe.a)(n,"selectCreator",e.reportsList.get("selectCreator")),Object(pe.a)(n,"selectedEvents",null===(t=e.selectedEvents.get("selects"))||void 0===t?void 0:t.toJS()),n}),Ht)((function(e){return Object(O.jsx)(zt,Object(c.a)({},e))})),Gt=function(e){e.eventsList;var t=e.setEventsListData;return Object(a.useEffect)((function(){console.log("Root Page",I.eventsList),t(I.eventsList)}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:d.EVENTS_LIST_PAGE,children:Object(O.jsx)(je,{})}),Object(O.jsx)(l.a,{exact:!0,path:d.EDIT_REPORTS,children:Object(O.jsx)(Ie,{})}),Object(O.jsx)(l.a,{exact:!0,path:d.PREVIEW_LiST_PAGE,children:Object(O.jsx)(Jt,{})})]})})},Wt=Object(a.memo)(Gt),Kt={setEventsListData:j},Ut=Object(o.b)((function(e){var t;return{eventsList:null===(t=e.eventsList.get("events"))||void 0===t?void 0:t.toJS()}}),Kt)((function(e){return Object(O.jsx)(Wt,Object(c.a)({},e))})),Xt=n(162),Yt=Object(Xt.a)(),Zt=n(130),qt=n(22),$t=new qt.a.Record({id:0,img:null,title:"",tagList:[],description:"",date:"",month:"",day:"",group:""}),en=function(e){return function(t){return new qt.a.List(t.map((function(t){return new e(t)})))}},tn=new qt.a.OrderedMap({events:new qt.a.List}),nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_EVENTS:return e.set("events",en($t)(t.payload.events));case u.ADD_EVENT:var n=e.get("events").unshift(t.payload.event);return e.set("events",en($t)(n));case u.DELETE_EVENT:return e.update("events",(function(e){return e.filter((function(e){return e.id!==t.payload.eventID}))}));default:return e}},an=new qt.a.Record({day:q(new Date)}),sn=new qt.a.OrderedMap({timeFilter:new an}),rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;return t.type===we.SET_TIME_FILTER?e.setIn(["timeFilter","day"],q(t.payload.timeFilter)):e},cn=new qt.a.OrderedMap({reports:new qt.a.List,creators:new qt.a.List,selectCreator:"",title:"",description:"",color:he[0]}),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.SET_REPORTS:return e.set("reports",new qt.a.List(t.payload.reports));case Ne.SET_TITLE:return e.set("title",t.payload.title);case Ne.SET_COLOR:return e.set("color",t.payload.color);case Ne.SET_DESCRIPTION:return e.set("description",t.payload.description);case Ne.SET_CREATORS:return e.set("creators",new qt.a.List(t.payload.creators));case Ne.SELECT_CREATOR:return e.set("selectCreator",t.payload.creator);default:return e}},ln=new qt.a.OrderedMap({image:null,description:"",approve:!1,destination:"",classrooms:null,kids:null,dynamicTags:null,tags:new qt.a.List([]),textTags:new qt.a.List([])}),dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.SET_IMAGE:return e.set("image",t.payload.image);case _e.SET_DESCRIPRTION:return e.set("description",t.payload.description);case _e.SET_APPROVE:return e.set("approve",t.payload.approve);case _e.SET_DESTINATION:return e.set("destination",t.payload.destination);case _e.SET_CLASSROOMS:return e.set("classrooms",new qt.a.List(t.payload.classrooms));case _e.SET_KIDS:return e.set("kids",t.payload.kids);case _e.SET_DYNAMIC_TAGS:return e.set("dynamicTags",new qt.a.List(t.payload.tags));case _e.ADD_TAG:return e.update("textTags",(function(e){return e.push(t.payload.tag)}));case _e.SET_TAG:return e.update("tags",(function(e){return e.includes(t.payload.tag)?e.filter((function(e){return e!==t.payload.tag})):e.push(t.payload.tag)}));default:return e}},un=function(e){return function(t){return new qt.a.List(t.map((function(t){return new e(t)})))}},jn=new qt.a.OrderedMap({selects:new qt.a.List}),pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.SET_SELECTED:return e.set("selects",un($t)(t.payload.selects));case te.EDIT_EVENT:return e.update("selects",(function(e){return e.map((function(e){return e.id===t.payload.eventId?e.set("description",t.payload.eventDescription):e}))}));default:return e}},bn=Object(Zt.a)({common:rn,eventsList:nn,reportsList:on,shareReports:dn,selectedEvents:pn}),xn=Object(Zt.b)(bn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),hn=n(239),On=n(164),mn=Object(On.a)({palette:{primary:{main:"#00AE00",contrastText:"#fff"},secondary:{main:"#AE0000",contrastText:"#fff"}}});r.a.render(Object(O.jsx)(ae.a,{basename:"/JPERP-web",history:Yt,children:Object(O.jsx)(o.a,{store:xn,children:Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(hn.a,{theme:mn,children:Object(O.jsx)(Ut,{})})})})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.2dc09d0c.chunk.js.map